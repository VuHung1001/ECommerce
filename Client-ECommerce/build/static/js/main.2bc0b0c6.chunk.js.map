{"version":3,"sources":["responsive.js","requestMethods.js","pages/MomoResult.jsx","components/Notification.jsx","components/Newsletter.jsx","pages/Product.jsx","data.js","components/CategoryItem.jsx","components/Categories.jsx","components/Product.jsx","components/Products.jsx","components/Slider.jsx","pages/Home.jsx","pages/ProductList.jsx","components/DeliveryDetail.jsx","components/SelectPayment.jsx","pages/Cart.jsx","redux/apiCalls.js","components/LoginGoogle.jsx","pages/Login.jsx","pages/Register.jsx","pages/Success.jsx","components/OrderList.jsx","components/UserProfile.jsx","pages/Account.jsx","components/OrderDetail.jsx","pages/AccountOrder.jsx","App.jsx","redux/store.js","index.js","redux/userRedux.js","components/Announcement.jsx","components/GoToTop.jsx","components/Footer.jsx","components/Music.jsx","components/Navbar.jsx","redux/cartRedux.js"],"names":["mobile","props","css","BASE_URL","process","user","JSON","parse","localStorage","getItem","currentUser","TOKEN","accessToken","publicRequest","axios","create","baseURL","userRequest","headers","token","Momo","useState","resultMessage","setResultMessage","useSearchParams","searchParams","dispatch","useDispatch","cart","useSelector","state","amount","setAmount","orderId","setOrderId","isMailSended","setIsMailSended","crypto","require","navigate","useNavigate","params","sort","forEach","value","key","parent","substring","length","signature","createHmac","update","digest","useEffect","get","address","Buffer","from","toString","createOrder","a","total","post","_id","userId","products","map","item","productId","quantity","res","userMail","email","mailText","name","title","price","emailRes","data","removeCart","window","history","replaceState","timeout","setTimeout","clearTimeout","console","dir","style","height","display","flexDirection","alignItems","justifyContent","background","backgroundSize","fontSize","fontBold","to","padding","marginTop","Notification","message","type","duration","main","document","getElementById","toast","createElement","autoRemoveId","removeChild","onclick","e","target","closest","icon","success","info","warning","error","delay","toFixed","classList","add","animation","innerHTML","appendChild","id","Container","styled","div","Title","h1","Description","textAlign","InputContainer","width","Button","button","Newsletter","hasError","setHasError","notifyMes","setNotifyMes","notifyType","setNotifyType","notifyTitle","setNotifyTitle","handleMail","mailInput","querySelector","RegExp","test","focus","TextField","required","label","variant","color","helperText","onClick","Send","Wrapper","ImgContainer","maxWidth","margin","Arrow","direction","Image","img","maxHeight","ImgLen","ImgZoomed","imgZoomMarginLeft","distanceImgToTop","InfoContainer","Desc","p","Price","span","OptionContainer","AddContainer","AmountContainer","Amount","Product","useLocation","pathname","split","product","setProduct","setQuantity","setImgZoomMarginLeft","setDistanceToTop","innerWidth","browserWidth","setBrowserWidth","getElementsByClassName","imgState","setImgState","imgLensState","setImgLensState","imgZoomedState","setImgZoomedState","imgIndex","setImgIndex","handleQuantity","zoomOut","lens","zoomIn","result","cx","cy","pos","x","y","preventDefault","src","offsetWidth","offsetHeight","backgroundImage","event","getBoundingClientRect","pageX","left","pageY","top","pageXOffset","pageYOffset","getCursorPos","backgroundPosition","scrollTo","behavior","interval","setInterval","clearInterval","interval2","imgTag","imgContainer","carouselArrow","naturalHeight","naturalWidth","parentNode","realImgHeight","getProduct","Navbar","category","Announcement","next","now","prev","changeOnFirstRender","onChange","changeImg","index","autoPlay","fullHeightHover","swipe","IndicatorIcon","alt","opacity","objectFit","indicatorIconButtonProps","activeIndicatorIconButtonProps","indicatorContainerProps","navButtonsProps","backgroundColor","transition","transform","NavButton","className","ArrowRightOutlined","ArrowLeftOutlined","position","onMouseMove","onMouseOut","desc","Remove","Add","addProduct","Footer","sliderItems","bg","categories","Info","CategoryItem","Categories","Icons","page","minWidth","Circle","Icon","Span","currentPage","location","href","ShoppingCartOutlined","SearchOutlined","FavoriteBorderOutlined","PaginationContainer","Products","filters","setProducts","setPage","rowPerPage","totalPage","setTotalPage","Math","ceil","getProducts","slice","Pagination","count","slideIndex","Slide","flex","InforContainer","Slider","setSlideIndex","handleClick","Home","FilterContainer","Filter","FilterText","marginRight","Select","select","Option","option","youtubeVideos","ProductList","categoryPath","selectRef","useRef","setFilters","pathName","pushState","options","current","i","innerText","selectedIndex","handleFilters","frameBorder","muted","loop","allow","allowFullScreen","right","bottom","minHeight","zIndex","ref","defaultValue","DeliveryDetail","displayDelivery","setDisplayDelivery","setAddress","errors","setErrors","addressObj","setAddressObj","input","textarea","includes","setAddressCart","CloseRounded","Box","component","sx","m","noValidate","autoComplete","multiline","maxRows","phone","note","nameRegex","addressRegex","phoneRegex","emailRegex","SelectPayment","setStripeToken","clickedPayment","setClickedPayment","payUrl","response","callMomoApi","image","billingAddress","shippingAddress","description","stripeKey","currency","Top","TopButton","TopTexts","TopText","Bottom","ProductDetail","Details","DeleteContainer","DeleteButton","ProductName","ProductId","ProductType","ProductPrice","PriceDetail","ProductQuantityContainer","DeleteButtonMobile","ProductQuantity","ProductAmount","marginBottom","Hr","hr","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","Cart","stripeToken","setMessage","setType","setTitle","checkout","find","element","removeProduct","removeFromCart","confirm","tokenId","stripeData","makeStripeRequest","wordBreak","whiteSpace","DeleteForeverOutlined","login","loginStart","loginSuccess","loginFailure","register","registerStart","registerSuccess","registerFailure","LoginGoogle","isFetching","responseGoogle","googleAuthRes","email_verified","profileObj","username","googleId","password","loginByGoogle","imageUrl","registerRes","reload","reset","disabled","clientId","buttonText","onSuccess","onFailure","cookiePolicy","Form","form","Input","Error","Login","setUsername","setPassword","placeholder","trim","err","textDecoration","cursor","Agreement","Register","setEmail","confirmPassword","setConfirmPassword","suggest","inputType","usernameReg","emailReg","passwordReg","timeout2","Success","billing_details","line1","WidgetLg","orders","setOrders","timeAgo","TimeAgo","list","b","Date","createdAt","getTime","getOrders","status","order","format","updatedAt","addLocale","vi","en","setDefaultLocale","User","isPassVisible","setIsPassVisible","hadFoundedPassword","setHadFoundedPassword","passInput","getPassword","originalPassword","CryptoJS","AES","decrypt","enc","Utf8","borderRadius","referrerPolicy","readOnly","flexWrap","Account","Order","setOrder","columns","field","headerName","renderCell","row","getOrder","prodsTemp","orderProds","push","PermIdentity","CalendarToday","city","country","PhoneAndroid","MailOutline","postal_code","line2","rows","disableSelectionOnClick","getRowId","rowsPerPageOptions","AccountOrder","App","exact","path","persistConfig","version","storage","rootReducer","combineReducers","userReducer","cartReducer","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","loading","userRedux","createSlice","initialState","reducers","action","payload","logout","actions","GoToTop","btnRef","addEventListener","ArrowUpwardRounded","Left","Logo","SocialContainer","SocialIcon","Center","h3","List","ul","ListItem","li","Right","ContactItem","Payment","authorize","Facebook","Instagram","Twitter","Pinterest","Room","Phone","Mail","playlist","Music","track","setTrack","isTrackChanged","setIsTrackChanged","categoryAtUrl","audioTag","floor","random","volume","load","play","controls","onMouseOver","onEnded","indexOf","Language","SearchContainer","marginLeft","SearchLabel","MenuItem","searchResults","setSearchResults","inputRef","centerRef","rightRef","anchorEl","setAnchorEl","open","Boolean","handleClose","disableCenterRight","childNodes","displayCenterRight","handleLogout","search","Stack","spacing","Autocomplete","freeSolo","autoHighlight","getOptionLabel","renderOption","mr","flexShrink","renderInput","onFocus","onBlur","aria-controls","undefined","aria-haspopup","aria-expanded","currentTarget","Menu","onClose","MenuListProps","onLogoutSuccess","Badge","badgeContent","cartSlice","found","splice"],"mappings":"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","file":"static/js/main.2bc0b0c6.chunk.js","sourcesContent":["import {css} from 'styled-components'\r\n\r\nexport const mobile = (props) => {\r\n    return css`\r\n        @media only screen and (max-width: 700px){\r\n            ${props};\r\n        }\r\n    `;\r\n};","import axios from 'axios';\r\n\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL + \"/api\";\r\n// const BASE_URL = \"http://localhost:5000/api\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"persist:root\"))?.user;\r\nconst currentUser = user && JSON.parse(user)?.currentUser;\r\nconst TOKEN = currentUser?.accessToken;\r\n\r\nexport const publicRequest = axios.create({\r\n    baseURL : BASE_URL,\r\n})\r\n\r\nexport const userRequest = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { token: `Bearer ${TOKEN}` }\r\n})","import { Link, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userRequest, publicRequest } from \"../requestMethods\";\r\nimport {useDispatch} from 'react-redux'\r\nimport {removeCart} from '../redux/cartRedux'\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Announcement from '../components/Announcement';\r\n\r\nfunction Momo() {\r\n  const [resultMessage, setResultMessage] = useState('')\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const accessKey = process.env.REACT_APP_MOMO_ACCESS_KEY;\r\n  const secretKey = process.env.REACT_APP_MOMO_SECRET_KEY;\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [amount, setAmount] = useState();\r\n  const [orderId, setOrderId] = useState(null);\r\n  const [isMailSended, setIsMailSended] = useState(false);\r\n  const crypto = require(\"crypto\");\r\n  const navigate = useNavigate()\r\n  \r\n  // get raw signature from query parameters\r\n  let params = '';\r\n  searchParams.sort();\r\n  searchParams.forEach((value, key, parent)=>{\r\n    if(key !== 'signature'){\r\n      params += key+'='+value+'&';\r\n    }\r\n  })\r\n  params = 'accessKey='+accessKey+'&'\r\n    +params.substring(0, params.length -1);\r\n    \r\n  // create our signature\r\n  const signature = crypto\r\n    .createHmac(\"sha256\", secretKey)\r\n    .update(params)\r\n    .digest(\"hex\");\r\n\r\n\r\n  useEffect(()=> {\r\n    // set result message by resultCode\r\n    setResultMessage(\r\n      searchParams.get('resultCode')*1 === 0\r\n        ? 'Payment successful'\r\n        : 'Payment failed'\r\n    )\r\n    //compare our signature and received signature\r\n    if(signature !== searchParams.get('signature')){\r\n      setResultMessage('Invalid Request information')\r\n    } \r\n    \r\n    // decode address\r\n    let address = Buffer.from(\r\n      searchParams.get('extraData'), 'base64'\r\n    ).toString('utf8')\r\n      \r\n    // create order, remove cart after creating order\r\n    const createOrder = async () => {\r\n      try {\r\n        setAmount(cart.total)\r\n        const res = await userRequest.post(\"/orders\", {\r\n          _id: searchParams.get('orderId'),\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total + 20000,\r\n          address: JSON.parse(address),\r\n        });\r\n        \r\n        //send mail to user\r\n        address = JSON.parse(address)\r\n        let userMail = address?.email ? address.email : currentUser?.email;\r\n        \r\n        let mailText = `  \\nHello ${address?.name}\r\nYour order id: ${searchParams.get('orderId')}\\n\r\nBill amount: ${cart.total + 20000}\\n\r\nYour delivery address: ${address?.address}\\n\r\nYour payment method: Momo Wallet\\n\r\nProducts that you have purchased: \\n\r\n<table style='border: 1px solid; border-collapse: collapse;'>\r\n<thead>\r\n  <tr>\r\n    <td style='border: 1px solid; border-collapse: collapse;'>Name</td>\r\n    <td style='border: 1px solid; border-collapse: collapse;'>Quantity</td>\r\n    <td style='border: 1px solid; border-collapse: collapse;'>Price</td>\r\n  </tr>\r\n</thead>\r\n<tbody>`\r\n\r\n        for(let item of cart.products) {\r\n          mailText += `<tr>\r\n              <td style='border: 1px solid; border-collapse: collapse;'>${item.title}</td>\r\n              <td style='border: 1px solid; border-collapse: collapse;'>${item.quantity}</td>\r\n              <td style='border: 1px solid; border-collapse: collapse;'>${item.price} &#8363;</td>\r\n            </tr>`\r\n        }\r\n\r\n        mailText = mailText+ '</tbody></table>'\r\n          + 'Your products are preparing and will be delivered as soon as possible'\r\n          +'\\nSincere thanks\\n'\r\n\r\n        const emailRes = publicRequest.post('/mail', {userMail, mailText})\r\n        \r\n        if(res.data?._id) {\r\n          setOrderId(res.data._id);\r\n          dispatch(removeCart())\r\n          \r\n          // delete cart redux state if user reload page\r\n          window.history.replaceState({}, '');\r\n        }\r\n        \r\n        if(emailRes){\r\n          setIsMailSended(true)\r\n\r\n          const timeout = setTimeout(()=>{\r\n            navigate('/')\r\n            window.clearTimeout(timeout)\r\n          }, 60000)   \r\n        }         \r\n      } catch(err) {\r\n        console.dir(err)\r\n      }\r\n    };\r\n    searchParams.get('resultCode')*1 === 0 \r\n      && cart?.total !== 0 \r\n      && currentUser?._id\r\n      && createOrder();\r\n  }, [searchParams, signature, currentUser, cart, dispatch, navigate])\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: 'linear-gradient('\r\n          +'rgba(255, 255, 255, 0.5), '\r\n          +'rgba(255, 255, 255 ,0.5)'\r\n          +'),'\r\n          +'url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") '\r\n          +'center',\r\n        backgroundSize: 'cover',\r\n        fontSize: '20px',\r\n        fontBold: '600'\r\n      }}\r\n    >\r\n      <p>{resultMessage}</p>\r\n      <p>{orderId\r\n        ? `Order has been created successfully. Your order number is ${orderId}.\\n`\r\n        : `You have not pay yet\\n`}\r\n      </p>\r\n      {isMailSended && (<p>\r\n        Order infors was sended to your email\r\n      </p>)}\r\n      {amount && (<p>\r\n        Your total amount: {amount +20000} &#8363;\r\n      </p>)}       \r\n      <Link to=\"/\">\r\n        <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n      </Link>\r\n    </div>\r\n    <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Momo;\r\n","import { useEffect } from 'react';\r\nimport './notification.css'\r\n\r\n// source from f8 (fullstack.edu.vn)\r\nconst Notification = ({ title = \"\", message = \"\", type = \"info\", duration = 10000 }) => {\r\n\r\n  useEffect(()=> {\r\n    // Toast function\r\n    function toast() {\r\n      const main = document.getElementById(\"toast\");\r\n      if (main) {\r\n        const toast = document.createElement(\"div\");\r\n\r\n        // Auto remove toast\r\n        const autoRemoveId = window.setTimeout(function () {\r\n          main.removeChild(toast);\r\n        }, duration + 1000);\r\n\r\n        // Remove toast when clicked\r\n        toast.onclick = function (e) {\r\n          if (e.target.closest(\".toast__close\")) {\r\n            main.removeChild(toast);\r\n            window.clearTimeout(autoRemoveId);\r\n          }\r\n        };\r\n\r\n        const icons = {\r\n          success: \"fas fa-check-circle\",\r\n          info: \"fas fa-info-circle\",\r\n          warning: \"fas fa-exclamation-circle\",\r\n          error: \"fas fa-exclamation-circle\",\r\n        };\r\n        const icon = icons[type];\r\n        const delay = (duration / 1000).toFixed(2);\r\n\r\n        toast.classList.add(\"toast\", `toast--${type}`);\r\n        toast.style.animation = `slideInLeft ease .5s, fadeOut linear 1s ${delay}s forwards`;\r\n\r\n        toast.innerHTML = `\r\n                      <div class=\"toast__icon\">\r\n                          <i class=\"${icon}\"></i>\r\n                      </div>\r\n                      <div class=\"toast__body\">\r\n                          <h3 class=\"toast__title\">${title}</h3>\r\n                          <p class=\"toast__msg\">${message}</p>\r\n                      </div>\r\n                      <div class=\"toast__close\">\r\n                          <i class=\"fas fa-times\"></i>\r\n                      </div>\r\n                  `;\r\n        main.appendChild(toast);\r\n        return;\r\n      }\r\n    }\r\n\r\n    title !=='' && message !== '' && toast()\r\n  }, [duration, message, title, type])\r\n\r\n  // function showSuccessToast() {\r\n  //   toast({\r\n  //     title: \"Thnh cng!\",\r\n  //     message: \"Bn  ng k thnh cng ti khon ti F8.\",\r\n  //     type: \"warning\",\r\n  //     duration: 5000,\r\n  //   });\r\n  // }\r\n\r\n  return (\r\n      <div id=\"toast\"></div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import { Send } from '@material-ui/icons'\r\nimport styled from 'styled-components'\r\nimport {useState} from 'react'\r\nimport { mobile } from '../responsive'\r\nimport TextField from \"@mui/material/TextField\"\r\nimport { publicRequest } from '../requestMethods'\r\nimport Notification from '../components/Notification'\r\n\r\nconst Container = styled.div`\r\n    height: 40vh;\r\n    background-color: #fcf5f5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n`\r\nconst Title = styled.h1`\r\n    font-size: 70px;\r\n    margin-bottom: 20px;\r\n`\r\nconst Description = styled.div`\r\n    fon-size: 24px;\r\n    font-weight: 300;\r\n    margin-bottom: 20px;\r\n    ${mobile({textAlign: 'center'})}\r\n`\r\nconst InputContainer = styled.div`\r\n    width: 40%;\r\n    height: 40px;\r\n    background-color: #fcf5f5;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    ${'' /* border: 1px solid lightgray; */}\r\n    ${mobile({width: '80%'})}\r\n`\r\n// const Input = styled.input`\r\n//     border: none;\r\n//     flex: 8;\r\n//     padding-left: 20px;\r\n// `\r\nconst Button = styled.button`\r\n    margin-left: 10px;\r\n    height: 50px;\r\n    width: 15%;\r\n    border: none;\r\n    border-radius: 5px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        background-color: #00a6a6;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\nconst Newsletter = () => {\r\n    const [hasError, setHasError] = useState(false)\r\n    const [notifyMes, setNotifyMes] = useState('')\r\n    const [notifyType, setNotifyType] = useState('info')\r\n    const [notifyTitle, setNotifyTitle] = useState('')\r\n    \r\n    const handleMail = async () => {\r\n        const mailInput = document.querySelector('#user-mail');\r\n        const emailRegex = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n\r\n        if(!emailRegex.test(mailInput.value)){\r\n            setHasError(true)\r\n            mailInput.focus()\r\n        }else{\r\n            setHasError(false)\r\n            \r\n            try{\r\n                const res = publicRequest.post('/mail', {userMail: mailInput.value})\r\n                if(res){\r\n                    setNotifyMes('We sent a mail to your email, thanks for trusted our service')\r\n                    setNotifyType('success')\r\n                    setNotifyTitle('Success')\r\n                    mailInput.value=''\r\n                }\r\n            } catch(e) {\r\n                console.dir(e)\r\n                setNotifyMes('An error has occurred, sorry for this inconvenience')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Error')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Notification \r\n                title={notifyTitle}\r\n                message={notifyMes}\r\n                type={notifyType}\r\n                duration={5000}\r\n            />  \r\n            <Title>Newsletter</Title>\r\n            <Description>Get timely updates from your favorite products.</Description>\r\n            <InputContainer>\r\n                <TextField\r\n                    required\r\n                    id=\"user-mail\"\r\n                    label=\"Your Mail\"\r\n                    variant=\"filled\"\r\n                    color= {hasError ? 'error' : \"primary\"}\r\n                    error = {hasError}\r\n                    helperText={\r\n                        hasError \r\n                        ? \"Your inputted mail wasn't correct yet. Email example: abc@mail.com\" \r\n                        : ''\r\n                    }\r\n                />\r\n                <Button onClick={handleMail}>\r\n                    <Send/>\r\n                </Button>\r\n            </InputContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Newsletter\r\n","import { Add, Remove } from \"@material-ui/icons\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport { ArrowLeftOutlined, ArrowRightOutlined } from \"@material-ui/icons\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport { addProduct } from \"../redux/cartRedux\";\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport { mobile } from \"../responsive\";\r\n\r\nconst Container = styled.div``;\r\nconst Wrapper = styled.div`\r\n  padding: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${mobile({ padding: \"10px\", flexDirection: \"column\" })}\r\n`;\r\nconst ImgContainer = styled.div`\r\n  height: 100vh;\r\n  max-width: 49%;\r\n  ${'' /* width: 40%; */}\r\n  flex: 1;\r\n  ${'' /* margin-right: 50px; */}\r\n  ${mobile({ maxWidth: '100%', width: '100%', height: '70vh', margin: '30px 0px'})}\r\n`;\r\nconst Arrow = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: ${(props) => props.direction === \"left\" && \"10px\"};\r\n    right: ${(props) => props.direction === \"right\" && \"10px\"};\r\n    margin: auto;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n    z-index: 2;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`;\r\nconst Image = styled.img`\r\n  height: 90vh;\r\n  width: 100%;\r\n  object-fit: contain;\r\n  display: block;\r\n  margin: auto;\r\n  ${'' /* &:hover { transform: scale3d(1.1, 1.1, 1) } */}\r\n  ${mobile({ maxHeight: '70vh', height: \"100%\", width: '100% !important'})}\r\n`;\r\nconst ImgLen = styled.div`\r\n  display: none;\r\n  position: absolute;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  opacity: 0.5;\r\n  width: 200px;\r\n  height: 200px;\r\n  ${mobile({ display: 'none !important' })}\r\n`\r\nconst ImgZoomed = styled.div`\r\n  border: 1px solid #008080;\r\n  border-radius: 10px;\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-repeat: no-repeat;\r\n  margin: auto;\r\n  margin-left: ${(props) => props.imgZoomMarginLeft + 50}px;\r\n  margin-top: ${(props) => props.distanceImgToTop}px;\r\n  object-fit: cover;\r\n  ${mobile({ display: 'none !important' })}\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  flex: 1;\r\n  max-width: 49%;\r\n  padding: 0px 50px;\r\n  ${mobile({ padding: \"10px\", maxWidth: '100%', width: '90%' })}\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst Title = styled.h1`\r\n  font-weight: 200;\r\n`;\r\nconst Desc = styled.p`\r\n  margin: 10px 0px;\r\n`;\r\nconst Price = styled.span`\r\n  font-weight: 100;\r\n  font-size: 40px;\r\n`;\r\n\r\nconst OptionContainer = styled.div`\r\n  width: 100%;\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n`;\r\n// const FilterContainer = styled.div`\r\n//     display: flex;\r\n//     align-items: center;\r\n//     flex: 1;\r\n// `\r\n// const FilterTitle = styled.span`\r\n//     font-size: 20px;\r\n//     font-weight: 200;\r\n// `\r\n// const FilterSelect= styled.select`\r\n//     cursor: pointer;\r\n//     margin-left: 10px;\r\n//     padding: 5px;\r\n// `\r\n// const FilterOption= styled.option`\r\n\r\n// `\r\n\r\nconst AddContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\nconst AmountContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  padding: 15px 5px 15px 0px;\r\n  @media only screen and (max-width: 700px) {\r\n    padding: 15px 0px;\r\n  }\r\n`;\r\nconst Amount = styled.span`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 10px;\r\n  border: 1px solid teal;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0px 5px;\r\n`;\r\nconst Button = styled.button`\r\n  padding: 5px;\r\n  border: 2px solid teal;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    background-color: lightgray;\r\n  }\r\n`;\r\n\r\nconst Product = () => {\r\n  const location = useLocation();\r\n  const id = location.pathname.split(\"/\")[2];\r\n  const [product, setProduct] = useState();\r\n  const [quantity, setQuantity] = useState(1);\r\n  const dispatch = useDispatch();\r\n  const [imgZoomMarginLeft, setImgZoomMarginLeft] = useState(0);\r\n  const [distanceImgToTop, setDistanceToTop] = useState(0);\r\n  // const [imgLeftSide, setImgLeftSide] = useState(0); // if img style width = 100%\r\n  const [browserWidth, setBrowserWidth] = useState(window.innerWidth); //if img style width = 100%\r\n  const [imgState, setImgState] = useState(document.getElementsByClassName(\"img-origin\")[0])\r\n  const [imgLensState, setImgLensState] = useState(document.getElementsByClassName(\"img-len\")[0])\r\n  const [imgZoomedState, setImgZoomedState] = useState(document.getElementById(\"img-zoomed\"))\r\n  const [imgIndex, setImgIndex] = useState(0)\r\n\r\n  const handleQuantity = (type) => {\r\n    if (type === \"asc\") setQuantity(quantity + 1);\r\n    if (type === \"desc\") quantity > 1 && setQuantity(quantity - 1);\r\n  };\r\n\r\n  const addToCart = () => {\r\n    product && dispatch(addProduct({ ...product, quantity }));\r\n  };\r\n\r\n  const changeImg = (now, prev) => {\r\n    zoomOut();\r\n    setImgState(document.getElementsByClassName(\"img-origin\")[now])\r\n    setImgLensState(document.getElementsByClassName(\"img-len\")[now])\r\n    setImgZoomedState(document.getElementsByClassName(\"img-zoomed\")[now])\r\n    setImgIndex(now)\r\n  }  \r\n\r\n  const zoomOut = () => {\r\n    let lens, result;\r\n    imgLensState ? lens = imgLensState : lens = document.getElementsByClassName(\"img-len\")[0];\r\n    imgZoomedState ? result = imgZoomedState : result = document.getElementById(\"img-zoomed\");\r\n    result.style.display = \"none\";\r\n    lens.style.display = 'none';\r\n  }\r\n\r\n  function zoomIn(e) {\r\n    e.preventDefault();\r\n    let img, lens, result, cx, cy;\r\n    imgState?.src ? img = imgState : img = document.getElementsByClassName(\"img-origin\")[0];\r\n    imgLensState ? lens = imgLensState : lens = document.getElementsByClassName(\"img-len\")[0];\r\n    imgZoomedState ? result = imgZoomedState : result = document.getElementById(\"img-zoomed\");\r\n    \r\n    lens.style.display = 'block';\r\n    result.style.display = \"inline-block\";\r\n    \r\n    result.style.width = (lens?.offsetWidth*2)+'px'\r\n    result.style.height = (lens?.offsetHeight*2)+'px'\r\n    \r\n    cx = result?.offsetWidth / lens?.offsetWidth;\r\n    cy = result?.offsetHeight / lens?.offsetHeight;\r\n    \r\n    result.style.backgroundImage = \"url('\" + img?.src + \"')\";\r\n    result.style.backgroundSize = (img?.width * cx) + \"px \" + (img?.height * cy) + \"px\";\r\n    \r\n    let pos, x, y;\r\n    pos = getCursorPos(e);\r\n    x = pos.x - (lens?.offsetWidth / 2);\r\n    y = pos.y - (lens?.offsetHeight / 2);\r\n\r\n    if (x > img?.width - lens?.offsetWidth) {x = img?.width - lens?.offsetWidth;}\r\n    if (x < 0) {x = 0;}\r\n    if (y > img?.height - lens?.offsetHeight) {y = img?.height - lens?.offsetHeight;}\r\n    if (y < 0) {y = 0;}\r\n\r\n    lens.style.left = x + /*imgLeftSide +*/ \"px\";\r\n    lens.style.top = y +\"px\";\r\n    result.style.backgroundPosition = \"-\" + (x * cx) + \"px -\" + (y * cy) + \"px\";\r\n\r\n    function getCursorPos(e) {\r\n        let a, x = 0, y = 0;\r\n        e = e || window.event;\r\n        a = img.getBoundingClientRect();\r\n        x = e.pageX - a.left;\r\n        y = e.pageY - a.top;\r\n        x = x - window.pageXOffset;\r\n        y = y - window.pageYOffset;\r\n        return {x : x, y : y};\r\n    }\r\n  } \r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 90,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    const interval = setInterval(() => {\r\n      if(browserWidth !== window.innerWidth){ \r\n        setBrowserWidth(window.innerWidth);\r\n        window.clearInterval(interval)\r\n      }\r\n    }, 1000)\r\n\r\n    // set img height and width to fit real img size\r\n    const interval2 = setInterval(() => {\r\n      let imgTag = document.getElementsByClassName(\"img-origin\")[imgIndex];\r\n      let imgContainer = document.getElementById('img-container')\r\n      let carouselArrow = document.getElementById('carouselArrow')\r\n      \r\n      if(imgContainer \r\n          && imgTag \r\n          && (imgTag.naturalHeight / imgTag.naturalWidth > 1)\r\n        ){\r\n        // let realImgWidth = imgTag?.naturalWidth / (imgTag?.naturalHeight / imgTag?.offsetHeight)\r\n          \r\n        // setImgLeftSide((imgTag?.offsetWidth - realImgWidth) / 2)\r\n        setImgZoomMarginLeft(carouselArrow.parentNode.parentNode?.offsetWidth)\r\n        setDistanceToTop(window.pageYOffset + imgTag.getBoundingClientRect().top)\r\n\r\n        // imgTag.style.width = realImgWidth+'px';\r\n        window.clearInterval(interval2);\r\n      } \r\n      if(imgContainer \r\n          && imgTag \r\n          && (imgTag.naturalHeight / imgTag.naturalWidth <= 1) \r\n          && carouselArrow\r\n        ) {\r\n        let realImgHeight = imgTag.naturalHeight / (imgTag.naturalWidth / imgTag.offsetWidth)\r\n          \r\n        setImgZoomMarginLeft(carouselArrow.parentNode.parentNode?.offsetWidth)\r\n        setDistanceToTop(window.pageYOffset + imgTag.getBoundingClientRect().top)\r\n\r\n        imgTag.style.height = realImgHeight+'px'\r\n        imgContainer.style.height = (realImgHeight + 120)+'px'\r\n        carouselArrow.parentNode.parentNode.style.height = (realImgHeight + 120)+'px'\r\n        imgTag.parentNode.parentNode.parentNode.parentNode.parentNode.style.height = realImgHeight +'px'\r\n        window.clearInterval(interval2);\r\n      }\r\n    }, 1000)\r\n\r\n    const getProduct = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products/find/\" + id);\r\n        setProduct(res.data);\r\n      } catch (err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    getProduct();\r\n\r\n    return () => { setImgState(document.getElementById(\"img-origin\")) }\r\n  }, [id, imgIndex, browserWidth]);  \r\n\r\n  return (  \r\n    <Container>\r\n      <Navbar category={product?.category}/>\r\n      <Announcement />\r\n      {product && (\r\n      <Wrapper>\r\n        <ImgContainer id='img-container'>\r\n          <Carousel\r\n            next={ (now, prev) => { } }\r\n            prev={ (now, prev) => { } }\r\n            changeOnFirstRender = {false}\r\n            onChange={ (now, prev) => { product?.img && changeImg(now, prev) }}\r\n            index={imgIndex}            \r\n            autoPlay={true}\r\n            fullHeightHover={false}\r\n            interval={10000}\r\n            animation='fade'\r\n            duration={800}\r\n            swipe={true}\r\n            IndicatorIcon={\r\n              product?.img?.map((value, index)=>(\r\n                <img \r\n                  src={product?.img[index]} \r\n                  width='100' \r\n                  height='100' \r\n                  alt='indicator'\r\n                  style={\r\n                    index === imgIndex \r\n                      ? {opacity: '1.0', objectFit: 'cover'}\r\n                      : {opacity: '0.6', objectFit: 'cover'}\r\n                  }\r\n                />\r\n              ))\r\n            }\r\n            indicatorIconButtonProps={{\r\n              style: {\r\n                padding: '0px 10px',    \r\n              }\r\n            }}\r\n            activeIndicatorIconButtonProps={{\r\n              style: {\r\n                opacity: '1.0'\r\n              }\r\n            }} \r\n            indicatorContainerProps={{\r\n              style: {\r\n                marginTop: '20px',\r\n              }\r\n            }}                       \r\n            navButtonsProps={{\r\n              style: {\r\n                margin: 'auto',\r\n                backgroundColor: '#008080',\r\n                opacity: '0.5',\r\n                transition: 'all 0.5s ease',\r\n                '&:hover':{\r\n                    opacity: '1.0',\r\n                    transform: 'scale(1.1)',\r\n                },\r\n              }\r\n            }}    \r\n            NavButton={({onClick, className, style, next, prev}) => {\r\n                return (\r\n                    <Arrow id='carouselArrow' onClick={onClick} className={className} style={style}>\r\n                        {next && <ArrowRightOutlined/>}\r\n                        {prev && <ArrowLeftOutlined/>}\r\n                    </Arrow>\r\n                )\r\n            }}                    \r\n          >\r\n            {product?.img?.map((value, index)=>(\r\n              <div key={index} style={{width: 'fit-content', display: 'block', margin: 'auto', position: 'relative' }}>\r\n              <Image\r\n                className='img-origin'\r\n                onMouseMove={(e) => {zoomIn(e)}}\r\n                src={product?.img[index]} \r\n              />\r\n              <ImgLen\r\n                className='img-len'\r\n                onMouseMove={(e) => {zoomIn(e)}}  \r\n                onMouseOut={zoomOut}\r\n              />\r\n              </div>\r\n            ))}\r\n          </Carousel>\r\n          <ImgZoomed \r\n            id='img-zoomed' \r\n            imgZoomMarginLeft={imgZoomMarginLeft} \r\n            distanceImgToTop={distanceImgToTop}\r\n          />\r\n        </ImgContainer>\r\n        <InfoContainer>\r\n          <Title>{product?.title}</Title>\r\n          <Desc>{product?.desc}</Desc>\r\n          <Price>{product?.price} &#8363;</Price>\r\n\r\n          <OptionContainer>\r\n            {/* <FilterContainer>\r\n                            <FilterTitle>Scale</FilterTitle>\r\n                            <FilterSelect>\r\n                                <FilterOption>1:10</FilterOption>\r\n                                <FilterOption>1:20</FilterOption>\r\n                                <FilterOption>1:30</FilterOption>\r\n                                <FilterOption>1:50</FilterOption>\r\n                            </FilterSelect>\r\n                        </FilterContainer> */}\r\n\r\n            <AddContainer>\r\n              <AmountContainer>\r\n                <Remove onClick={() => handleQuantity(\"desc\")} />\r\n                <Amount>{quantity}</Amount>\r\n                <Add onClick={() => handleQuantity(\"asc\")} />\r\n              </AmountContainer>\r\n              <Button onClick={addToCart}>ADD TO CART</Button>\r\n            </AddContainer>\r\n          </OptionContainer>\r\n        </InfoContainer>\r\n      </Wrapper>\r\n      )}\r\n      {!product && (\r\n        <h2 style={{textAlign: 'center', margin: '50px'}}>Can't find any product with id: {id}</h2>\r\n      )}\r\n      <Newsletter />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","export const sliderItems = [\r\n    {\r\n        id: 1,\r\n        img: \"https://www.nawpic.com/media/2020/marvel-nawpic-2.jpg\",\r\n        title: \"HAPPY NEW YEAR!!!\",\r\n        desc: \"Super Sale 20% on all products.\",\r\n        bg: \"fcf1ed\",\r\n        type: 'Marvel',\r\n    },\r\n    {\r\n        id: 2,\r\n        // img: \"https://r4.wallpaperflare.com/wallpaper/246/490/440/batman-batman-begins-the-dark-knight-the-dark-knight-rises-wallpaper-79a0380de1fa3d6b9677585f909106ed.jpg\",\r\n        img: \"https://wallpaperaccess.com/full/328886.jpg\",\r\n        title: \"SUPER SALE\",\r\n        desc: \"Super Sale 50% on all products.\",\r\n        bg: \"fbf0f4\",\r\n        type: 'DC-Comics',\r\n    },\r\n    {\r\n        id: 3,\r\n        // img: \"https://cdn.wallpapersafari.com/7/67/NiBaT8.jpg\",\r\n        // img: \"https://wallpaperaccess.com/full/780969.jpg\",\r\n        img: \"https://wallpapercave.com/wp/wp2556881.jpg\",\r\n        title: \"HAPPY LUNAR NEW YEAR!!!\",\r\n        desc: \"Super Sale 30% on all products.\",\r\n        bg: \"f5fafd\",\r\n        type: 'Transformers',\r\n    },\r\n];\r\n\r\nexport const categories = [\r\n    {\r\n        id: 1,\r\n        img: \"https://wallpaperaccess.com/full/7146075.png\",\r\n        title: \"Marvel\",\r\n    },\r\n    {\r\n        id: 2,\r\n        img: \"https://comicvine.gamespot.com/a/uploads/scale_small/0/40/5213245-dc_logo_blue_final.jpg\",\r\n        title: \"DC-Comics\",\r\n    },\r\n    {\r\n        id: 3,\r\n        img: \"https://www.nicepng.com/png/detail/65-650934_transformers-autobots-and-decepticons-logo.png\",\r\n        title: \"Transformers\",\r\n    },\r\n];\r\n","import './category-item.css'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    flex: 1;\r\n    margin: 3px;\r\n    height: 70vh;\r\n    position: relative;\r\n`\r\nconst Image = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    ${mobile({height: '25vh'})}\r\n`\r\nconst Info = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Title = styled.h1`\r\n    color: black;\r\n    margin-bottom: 20px;\r\n`\r\nconst Button = styled.button`\r\n    border:none;\r\n    padding: 10px;\r\n    background-color: gray;\r\n    color: white;\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n    transition: all 0.5s ease;\r\n    &:hover {\r\n      transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst CategoryItem = ({item}) => {\r\n    return (\r\n        <Container className=\"container\">\r\n            <Link to={`/products/${item.title}`}>\r\n            <Image src={item.img} className=\"img\"/>\r\n            <Info>\r\n                <Title>{item.title}</Title>\r\n                <Button>SHOP NOW</Button>\r\n            </Info>\r\n            </Link>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CategoryItem\r\n","import styled from 'styled-components'\r\nimport {categories} from '../data'\r\nimport CategoryItem from './CategoryItem'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding: 20px;\r\n    justify-content: space-between;\r\n    ${mobile({ padding: '0px', flexDirection: 'column'})}\r\n`\r\n\r\nconst Categories = () => {\r\n    return (\r\n        <Container>\r\n            {categories.map((item) => (\r\n                <CategoryItem key={item.id} item={item}/>\r\n            ))}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import { FavoriteBorderOutlined, SearchOutlined, ShoppingCartOutlined } from '@material-ui/icons'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { addProduct } from '../redux/cartRedux'\r\nimport { mobile } from '../responsive'\r\n\r\nconst Icons = styled.div`\r\n    opacity: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    background-color: rgba(0,0,0,0.1);\r\n    z-index: 3;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.5s ease;\r\n    cursor: pointer;\r\n`\r\n\r\nconst Container = styled.div`\r\n    flex: 1 ${(props) => props.page && '26%'};\r\n    margin: 5px;\r\n    min-width: 300px;\r\n    width: 23vw;\r\n    max-width: 26vw;\r\n    min-height: 300px;\r\n    height: 23vw;\r\n    display: flex;\r\n    ${'' /* align-items: center; */}\r\n    justify-content: center;\r\n    background-color: #f5fbfd;\r\n    position: relative;\r\n    ${mobile({ width: '100%', minWidth: '40vh', height: '40vh' })}\r\n\r\n    &:hover ${Icons}{\r\n        opacity: 1\r\n    }\r\n`\r\n\r\nconst Circle = styled.div`\r\n    width: 200px;\r\n    height: 200px;\r\n    border-radius: 50%;\r\n    background-color: white;\r\n    position: absolute;\r\n`\r\n\r\nconst Image = styled.img`\r\n    height: 80%;\r\n    width: 95%;\r\n    object-fit: cover;\r\n    z-index: 2;\r\n`\r\n\r\nconst Icon= styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    background-color: white;\r\n    display:flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 10px;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        background-color: #e9f5f5;\r\n        transform: scale(1.1);\r\n    };\r\n`\r\n\r\nconst Info = styled.div`\r\n    height: 19%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin: auto;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n`\r\nconst Span = styled.span``\r\n\r\nconst Product = ({item}) => {\r\n    const dispatch = useDispatch();\r\n    const currentPage = window.location.href.split('/')[3];\r\n    \r\n    const addToCart = ()=>{\r\n        const quantity = 1;\r\n        dispatch(addProduct({...item, quantity}))\r\n    }\r\n\r\n    return (\r\n        <Container page={currentPage}>\r\n            <Circle/>\r\n            <Image src={item.img[0]}/>\r\n            <Icons>\r\n                <Icon onClick={addToCart}>\r\n                    <ShoppingCartOutlined/>\r\n                </Icon>\r\n                <Icon>\r\n                    <Link to={`/product/${item._id}`}>\r\n                    <SearchOutlined/>\r\n                    </Link>\r\n                </Icon>\r\n                <Icon>\r\n                    <FavoriteBorderOutlined/>\r\n                </Icon>\r\n            </Icons>\r\n            <Info>\r\n                <Span><b>{item.title}</b></Span>\r\n                <Span>{item.price} &#8363;</Span>\r\n            </Info>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Product from './Product'\r\nimport {publicRequest} from '../requestMethods'\r\n\r\nconst Container = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\nconst PaginationContainer = styled.div`\r\n    margin-top: 15px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100vw;\r\n`\r\n\r\nconst Products = ({filters}) => {\r\n    const [products, setProducts] = useState([]);\r\n    const category = filters?.category;\r\n    const sort = filters?.sort;\r\n    const [page, setPage] = useState(1);\r\n    const currentPage = window.location.href.split('/')[3];\r\n    const rowPerPage =  currentPage ? 6 : 8;\r\n    const [totalPage, setTotalPage] = useState(1);\r\n\r\n    useEffect(()=> {\r\n        const getProducts = async () => {\r\n            try{\r\n                const res = (category && sort)\r\n                    ? await publicRequest.get(\r\n                        `/products?category=${category}&sort=${sort}`\r\n                    )\r\n                    : await publicRequest.get(\r\n                        '/products'\r\n                    )\r\n                setProducts(res.data)\r\n                setTotalPage(Math.ceil(res.data.length / rowPerPage))\r\n            } catch(err){\r\n                console.dir(err)\r\n            }\r\n        }\r\n        getProducts();\r\n    }, [category, sort, rowPerPage])\r\n\r\n    return (\r\n        <Container>\r\n            {products.slice((page-1)*rowPerPage, page * rowPerPage).map((item) => (\r\n                <Product key={item._id} item={item}/>\r\n            ))}\r\n            <PaginationContainer>\r\n                <Pagination\r\n                    page={page}\r\n                    count={totalPage}\r\n                    onChange={(e, value) => setPage(value)}\r\n                />\r\n            </PaginationContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import { ArrowLeftOutlined, ArrowRightOutlined } from \"@material-ui/icons\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {sliderItems} from '../data'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: flex;\r\n    position: relative;\r\n    overflow: hidden;\r\n    ${mobile({height: '65vh'})}\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: ${(props) => props.direction === \"left\" && \"10px\"};\r\n    right: ${(props) => props.direction === \"right\" && \"10px\"};\r\n    margin: auto;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n    z-index: 2;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n    height: 100%;\r\n    display: flex;\r\n    transition: all 1.0s ease;\r\n    transform: translateX(${props => props.slideIndex * -100}vw);\r\n`;\r\n\r\nconst Slide = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #${props => props.bg};\r\n    ${mobile({flexDirection: 'column', height: '100%'})}\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n    height: 100%;\r\n    flex: 3;\r\n    ${mobile({height: 'auto', flex: '1'})}\r\n`;\r\n\r\nconst Image = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    ${mobile({height: 'auto', objectFit: 'cover'})}\r\n`;\r\n\r\nconst InforContainer = styled.div`\r\n    flex: 1;\r\n    padding: 50px;\r\n    ${mobile({padding: '20px', display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'})}\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 70px;\r\n    ${mobile({fontSize: '40px', textAlign: 'center'})}\r\n`\r\nconst Desc = styled.p`\r\n    margin: 50px 0px;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    letter-spacing: 2px;\r\n    ${mobile({margin: '30px 0px'})}\r\n`\r\nconst Button = styled.button`\r\n    padding: 10px;\r\n    font-size: 20px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst Slider = () => {\r\n    const [slideIndex, setSlideIndex] = useState(0)\r\n\r\n    const handleClick = (direction) => {\r\n        if(direction === 'left'){\r\n            setSlideIndex(slideIndex > 0 ? slideIndex-1 : 2)\r\n        } else {\r\n            setSlideIndex(slideIndex < 2 ? slideIndex+1 : 0)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const interval = window.setInterval(()=>{\r\n            setSlideIndex(slideIndex < 2 ? slideIndex+1 : 0)\r\n        }, 5000)\r\n\r\n        return () => window.clearInterval(interval)\r\n    }, [slideIndex])\r\n\r\n    return (\r\n        <Container>\r\n            <Arrow direction=\"left\" onClick={() => handleClick(\"left\")}>\r\n                <ArrowLeftOutlined />\r\n            </Arrow>\r\n            <Wrapper slideIndex={slideIndex}>\r\n                {sliderItems.map(item => (\r\n                <Slide bg={item.bg} key={item.id}>\r\n                    <ImgContainer>\r\n                        <Image src={item.img} />\r\n                    </ImgContainer>\r\n                    <InforContainer>\r\n                        <Title>{item.title}</Title>\r\n                        <Desc>{item.desc}</Desc>\r\n                        <Link to={`/products/${item.type}`}>\r\n                            <Button>SHOW NOW</Button>\r\n                        </Link>\r\n                    </InforContainer>\r\n                </Slide>\r\n                ))}\r\n            </Wrapper>\r\n            <Arrow direction=\"right\" onClick={() => handleClick(\"right\")}>\r\n                <ArrowRightOutlined />\r\n            </Arrow>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Slider;\r\n","import { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Announcement from '../components/Announcement'\r\nimport Categories from '../components/Categories'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport Newsletter from '../components/Newsletter'\r\nimport Products from '../components/Products'\r\nimport Slider from '../components/Slider'\r\n\r\nconst Container = styled.div`\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.8), \r\n    rgba(255, 255, 255 ,0.8)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    postition: fixed;\r\n    right: 0;\r\n    bottom: 0;\r\n`\r\n\r\nconst Home = () => {\r\n    useEffect(()=>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        }); \r\n    }, [])\r\n    \r\n    return (\r\n        <Container>\r\n            <Navbar/>\r\n            <Announcement/>\r\n            <Slider/>\r\n            <Categories/>\r\n            <Products/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport Products from \"../components/Products\";\r\nimport { mobile } from \"../responsive\";\r\n\r\nconst Container = styled.div``;\r\nconst Title = styled.h1`\r\n    text-align: center;\r\n    margin: 20px;\r\n`;\r\nconst FilterContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n`;\r\nconst Filter = styled.div`\r\n    margin: 20px;\r\n    ${mobile({ display: 'flex', flexDirection: 'column'})}\r\n`;\r\nconst FilterText = styled.span`\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    margin-right: 20px;\r\n    ${mobile({marginRight: '0px'})}\r\n`;\r\nconst Select = styled.select`\r\n    padding: 10px;\r\n    margin-right: 20px;\r\n    ${mobile({margin: '10px 0px'})}\r\n`\r\nconst Option = styled.option``\r\n\r\nconst youtubeVideos ={\r\n    'All Products': '0D2Pv0Xl69Q',\r\n    'Transformers': '0D2Pv0Xl69Q',\r\n    'Marvel': '2DkdFhVznY4',\r\n    'DC-Comics' :'PLwFgS4H64k'\r\n}\r\n\r\nconst ProductList = () => {\r\n    const location = useLocation();\r\n    const categoryPath = location.pathname.split('/')[2]\r\n    const selectRef = useRef();\r\n    \r\n    const [filters, setFilters] = useState({\r\n        category: categoryPath ? categoryPath : 'All Products',\r\n        sort: 'Price (desc)',\r\n    });\r\n\r\n    //change url by category without redirect or reload page\r\n    if(filters.category){\r\n        let pathName = filters.category === 'All Products' ? '' : '/'+filters.category;\r\n        window.history.pushState(\"\", \"\", '/products'+pathName);\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n        \r\n        const select = selectRef.current;\r\n        const options = select.options;\r\n        \r\n        for(let i=0;i<options.length;i++){\r\n\r\n            if(options[i].innerText === filters.category){\r\n                options.selectedIndex = i;\r\n                break;\r\n            }\r\n\r\n            if(i === options.length-1){\r\n                setFilters({\r\n                    ...filters,\r\n                    category: 'All Products'\r\n                })\r\n            }\r\n        }\r\n    }, [filters])\r\n    \r\n    const handleFilters = (e) => {\r\n            setFilters({\r\n                ...filters,\r\n                [e.target.name]: e.target.value\r\n            })\r\n    }\r\n    \r\n    return (\r\n        <Container>\r\n        {window.innerWidth > 700 && (\r\n            <iframe \r\n                src={`https://www.youtube.com/embed/${youtubeVideos[filters.category]}?playList=${youtubeVideos[filters.category]}&autoplay=1&mute=1&loop=1&version=3`}\r\n                title=\"YouTube video player\" \r\n                frameBorder=\"0\" \r\n                autoPlay\r\n                muted\r\n                loop={true}\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                allowFullScreen\r\n                style={{\r\n                    position: 'fixed',\r\n                    right: '0',\r\n                    bottom: '0',\r\n                    minWidth: '100%',\r\n                    minHeight: '100%',\r\n                    opacity: '0.3',\r\n                    zIndex: '-1000'\r\n                }}\r\n            ></iframe>)}\r\n            <Navbar category={filters?.category}/>\r\n            <Announcement />\r\n            <Title>{filters.category}</Title>\r\n            <FilterContainer>\r\n                <Filter>\r\n                    <FilterText>Category:</FilterText>\r\n                    <Select \r\n                        name=\"category\" \r\n                        onChange={handleFilters}\r\n                        ref={selectRef}\r\n                    >\r\n                        <Option>All Products</Option>\r\n                        <Option>Transformers</Option>\r\n                        <Option>Marvel</Option>\r\n                        <Option>DC-Comics</Option>\r\n                    </Select>\r\n                    {/* <Select onChange={handleFilters}>\r\n                        <Option disabled >Scale</Option>\r\n                        <Option>1:20</Option>\r\n                        <Option>1:30</Option>\r\n                        <Option>1:50</Option>\r\n                    </Select> */}\r\n                </Filter>\r\n                <Filter>\r\n                    <FilterText>Sort Products:</FilterText>\r\n                    <Select name=\"sort\" onChange={handleFilters}>\r\n                        <Option value=\"desc\" defaultValue>Price (desc)</Option>\r\n                        <Option value=\"asc\">Price (asc)</Option>\r\n                        <Option value=\"newest\">Newest</Option>\r\n                        <Option value=\"oldest\">Oldest</Option>\r\n                        {/* <Option value=\"bestseller\">Bestseller</Option>\r\n                        <Option value=\"toprated\">Top rated</Option> */}\r\n                    </Select>\r\n                </Filter>\r\n            </FilterContainer>\r\n            <Products filters={filters} />\r\n            <Newsletter />\r\n            <Footer />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n","import { CloseRounded } from \"@material-ui/icons\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAddressCart } from \"../redux/cartRedux\";\r\nimport Notification from '../components/Notification'\r\nimport \"./delivery-detail.css\";\r\n\r\nconst Button = styled.button`\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n  background-color: #A50064;\r\n  color: white;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst DeliveryDetail = ({ displayDelivery, setDisplayDelivery, setAddress }) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const [errors, setErrors] = useState([false, false, false ,false])\r\n  const [addressObj, setAddressObj] = useState(null)\r\n  const [notifyMes, setNotifyMes] = useState('')\r\n  const [notifyType, setNotifyType] = useState('info')\r\n  const [notifyTitle, setNotifyTitle] = useState('')  \r\n\r\n  const disableDelivery = () => {\r\n    setDisplayDelivery(false);\r\n  };\r\n\r\n  const handleDeliveryDetail=(e)=>{\r\n    e.preventDefault();\r\n    const name = document.querySelector('#delivery-name').value;\r\n    const address = document.querySelector('#delivery-address').value;\r\n    const phone = document.querySelector('#delivery-phone').value;\r\n    const email = document.querySelector('#delivery-email').value;\r\n    const note = document.querySelector('#delivery-note').value;\r\n\r\n    const nameRegex = new RegExp(/^([aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ]{2,})+\\s+([aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ\\s]{2,})+$/i)\r\n    const addressRegex = new RegExp(/^([sS0-9a-zA-Z\\s]{1,7})+[\\s,.'-]+([aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ0-9\\s,.'-]{3,7}){5,}$/i)\r\n    const phoneRegex = new RegExp(/^[+\\s]?[(]?[0-9]{2,4}[)]?[-\\s.]?([0-9]{3}[-\\s.]?){1,2}[0-9]{3,6}$/im)\r\n    const emailRegex = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n\r\n    if(!nameRegex.test(name)){\r\n      setNotifyMes('Your full name must be correct and at least two words long')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')      \r\n    }\r\n    if(!addressRegex.test(address)){\r\n      setNotifyMes('Address must be in the form:\\n house number, road name, ward name, county name, city provinces')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')      \r\n    }\r\n    if(!phoneRegex.test(phone)){\r\n      setNotifyMes('Mobile numbers have 11 numbers if including country code.\\n If not, there are 10 numbers, the first number is zero')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')      \r\n    }\r\n    if(!nameRegex.test(name)){\r\n      setNotifyMes('Email must be in the form: \\n anyWord@hostName.com (org, etc...)')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')      \r\n    }\r\n\r\n    setErrors([\r\n      !nameRegex.test(name),\r\n      !addressRegex.test(address),\r\n      !phoneRegex.test(phone),\r\n      !emailRegex.test(email)\r\n    ])\r\n    setAddressObj({name, address, phone, email, note})\r\n  }\r\n\r\n  useEffect(()=>{\r\n    // edit width of textarea\r\n    let input = document.querySelector('#delivery-name')\r\n    let textarea = document.querySelector('#delivery-address')\r\n    if(input && textarea && input.offsetWidth > 0){\r\n      textarea.style.width = (input.offsetWidth -24)+\"px\"\r\n    }\r\n\r\n    // set address for SelectPayment\r\n    if(!errors.includes(true) && addressObj){\r\n      setAddressCart(addressObj)\r\n      setAddress({\r\n        ...addressObj\r\n      })\r\n    }\r\n  }, [displayDelivery, errors, setAddress, addressObj])\r\n\r\n  return (\r\n    <div\r\n      className=\"delivery-container\"\r\n      style={{ display: displayDelivery ? \"block\" : \"none\" }}\r\n    >\r\n      <Notification \r\n          title={notifyTitle}\r\n          message={notifyMes}\r\n          type={notifyType}\r\n          duration={20000}\r\n      />       \r\n      <div className=\"paragraph\">\r\n        <p className=\"mb-0 fw-bold h4\">\r\n          <b>Insert delivery details</b>\r\n        </p>\r\n        <CloseRounded onClick={disableDelivery} />\r\n      </div>\r\n      <Box\r\n        component=\"form\"\r\n        sx={{\r\n          \"& .MuiTextField-root\": { m: 1 },\r\n        }}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n      >\r\n        <TextField\r\n          required\r\n          id=\"delivery-name\"\r\n          label=\"Full Name\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.name}\r\n          color= {errors[0] ? 'error' : \"primary\"}\r\n          error = {errors[0]}\r\n          helperText={errors[0] ? \"Exp: Nguyn Vn An, v h\" : ''}\r\n        />\r\n        <TextField\r\n          required\r\n          id=\"delivery-address\"\r\n          label=\"Address\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.address}\r\n          color= {errors[1] ? 'error' : \"primary\"}\r\n          error = {errors[1]}\r\n          helperText={errors[1] ? \"Exp: 01, hng trng, hon kim\" : ''}\r\n          multiline\r\n          maxRows={4}\r\n        />\r\n        <TextField\r\n          required\r\n          id=\"delivery-phone\"\r\n          label=\"Phone Number\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.phone}\r\n          color= {errors[2] ? 'error' : \"primary\"}\r\n          error = {errors[2]}\r\n          helperText={errors[2] ? \"Exp:0123456789, +84123456789\" : ''}\r\n        />\r\n        <TextField\r\n          id=\"delivery-email\"\r\n          label=\"Email address\"\r\n          type=\"mail\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.email}\r\n          color= {errors[3] ? 'error' : \"primary\"}\r\n          error = {errors[3]}\r\n          helperText={errors[3] ? \"Exp: a@a.aa, hung@gmail.com\" : ''}\r\n        />\r\n        <TextField\r\n          id=\"delivery-note\"\r\n          label=\"Note\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.note}\r\n          color=\"success\"\r\n        />\r\n        <Button onClick={handleDeliveryDetail}>use momo wallet</Button>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeliveryDetail;\r\n","import \"./select-payment.css\";\r\nimport { CloseRounded } from \"@material-ui/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DeliveryDetail from \"./DeliveryDetail\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Notification from \"./Notification\";\r\n\r\nconst KEY = process.env.REACT_APP_STRIPE;\r\n\r\nconst SelectPayment = (props) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.user);\r\n  const setStripeToken = props.setStripeToken;\r\n  const navigate = useNavigate();\r\n  const [displayDelivery, setDisplayDelivery] = useState(false)\r\n  const [address, setAddress] = useState(null)\r\n  const [clickedPayment, setClickedPayment] = useState(null)\r\n  const [notifyMes, setNotifyMes] = useState('')\r\n  const [notifyType, setNotifyType] = useState('info')\r\n  const [notifyTitle, setNotifyTitle] = useState('')\r\n\r\n  const useStripePayment = (token) => {\r\n    if (!user.currentUser?._id) {\r\n      setNotifyMes('Please login before checkout, redirecting to login page')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')    \r\n\r\n      const timeout = setTimeout(()=>{\r\n        navigate('/login')\r\n        window.clearTimeout(timeout)\r\n      }, 4000)\r\n    }\r\n    if (cart.total <= 0){\r\n      setNotifyMes('Your cart is empty, please buy some our products first')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice') \r\n    }\r\n    else {\r\n      setStripeToken(token);\r\n    }\r\n  };\r\n\r\n  const useMomoPayment = () => {\r\n    if (!user.currentUser?._id) {\r\n      setNotifyMes('Please login before checkout, redirecting to login page')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')    \r\n\r\n      const timeout = setTimeout(()=>{\r\n        navigate('/login')\r\n        window.clearTimeout(timeout)\r\n      }, 4000)\r\n    }\r\n    if (cart.total <= 0){\r\n      setNotifyMes('Your cart is empty, please buy some our products first')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice') \r\n    }\r\n    else{\r\n      setDisplayDelivery(true)\r\n      document.querySelector(\".payment-container\").style.display = \"none\";\r\n      setClickedPayment(true)\r\n    }\r\n  };\r\n\r\n  const disableCheckout = () => {\r\n    document.querySelector(\".payment-container\").style.display = \"none\";\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if(address && clickedPayment){\r\n      const callMomoApi = async()=>{\r\n        try {\r\n          const res = await userRequest.post(\"/checkout/momo\", {\r\n            amount: cart.total + 20000,\r\n            address\r\n          });\r\n          if(res.data){\r\n            window.location.href = JSON.parse(res.data).payUrl;\r\n          }\r\n        } catch (err) {\r\n          console.dir(err);\r\n          if(err?.response?.data === 'Token is not valid!'){\r\n            setNotifyMes('You was not login or your login session was expired, redirecting to login page')\r\n            setNotifyType('warning')\r\n            setNotifyTitle('Notice')             \r\n\r\n            const timeout = setTimeout(()=>{\r\n              navigate('/login')\r\n              window.clearTimeout(timeout)\r\n            }, 4000)\r\n          }\r\n          setClickedPayment(false);\r\n        }\r\n      }\r\n\r\n      callMomoApi();\r\n    }\r\n  }, [address, cart, navigate, user, clickedPayment])\r\n\r\n  return (\r\n    <>\r\n    <Notification \r\n        title={notifyTitle}\r\n        message={notifyMes}\r\n        type={notifyType}\r\n        duration={5000}\r\n    />      \r\n    <DeliveryDetail \r\n      displayDelivery={displayDelivery} \r\n      setDisplayDelivery={setDisplayDelivery}\r\n      setAddress={setAddress}  \r\n    />\r\n    <div className=\"payment-container\">\r\n      <div className=\"paragraph\">\r\n        <p className=\"mb-0 fw-bold h4\">\r\n          <b>Select Payment Method</b>\r\n        </p>\r\n        <CloseRounded onClick={disableCheckout} />\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4 mb-lg-0 mb-3\">\r\n          <div className=\"card p-3\">\r\n            <div className=\"img-box\">\r\n              <StripeCheckout\r\n                name=\"Figure shop\"\r\n                image=\"https://blog.logomyway.com/wp-content/uploads/2021/08/transformer-logo.jpg\"\r\n                billingAddress\r\n                shippingAddress\r\n                description={`Your total amount is ${cart.total + 20000} &#8363;`}\r\n                amount={cart.total + 20000}\r\n                token={useStripePayment}\r\n                stripeKey={KEY}\r\n                currency=\"VND\"\r\n              >\r\n                <button className=\"btn stripe\">\r\n                  <img\r\n                    src=\"https://logos-world.net/wp-content/uploads/2021/03/Stripe-Emblem-700x394.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </button>\r\n              </StripeCheckout>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-4 mb-lg-0 mb-3\">\r\n          <div className=\"card p-3\">\r\n            <div className=\"img-box\">\r\n              <button onClick={useMomoPayment} className=\"btn momo\">\r\n                <img src=\"/img/momo_icon_square_pinkbg_RGB.png\" alt=\"\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectPayment;\r\n","import { Add, DeleteForeverOutlined, Remove } from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { mobile } from \"../responsive\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport SelectPayment from \"../components/SelectPayment\";\r\nimport { addProduct, removeProduct } from \"../redux/cartRedux\";\r\nimport Notification from \"../components/Notification\";\r\n\r\nconst Container = styled.div``;\r\nconst Wrapper = styled.div`\r\n  padding: 20px;\r\n  ${mobile({ padding: \"10px\" })}\r\n`;\r\nconst Title = styled.h1`\r\n  font-weight: 300;\r\n  text-align: center;\r\n`;\r\nconst Top = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n`;\r\nconst TopButton = styled.button`\r\n  padding: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border: ${(props) => props.type === \"filled\" && \"none\"};\r\n  background-color: ${(props) =>\r\n    props.type === \"filled\" ? \"black\" : \"transparent\"};\r\n  color: ${(props) => props.type === \"filled\" && \"white\"};\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\nconst TopTexts = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\nconst TopText = styled.span`\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  margin: 0px 10px;\r\n  padding-bottom: 5px;\r\n`;\r\nconst Bottom = styled.div`\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  @media only screen and (max-width: 800px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst Info = styled.div`\r\n  flex: 3;\r\n`;\r\n\r\nconst Product = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  @media only screen and (max-width: 950px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst ProductDetail = styled.div`\r\n  flex: 2;\r\n  display: flex;\r\n  max-height: 33vh;\r\n  justify-content: space-between;\r\n`;\r\nconst Image = styled.img`\r\n  width: 33.3%;\r\n  // height: 100%;\r\n  object-fit: cover;\r\n`;\r\nconst Details = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst DeleteContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nconst DeleteButton = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: auto;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    cursor: pointer;      \r\n    transform: scale(1.1);\r\n  }\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\n\r\nconst ProductName = styled.span``;\r\nconst ProductId = styled.span``;\r\nconst ProductType = styled.span``;\r\nconst ProductPrice = styled.span``;\r\n\r\nconst PriceDetail = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst ProductQuantityContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 15px 0px 10px 0px;\r\n`;\r\n\r\nconst DeleteButtonMobile = styled.div`\r\n  display: none;\r\n  align-items: center;\r\n  overflow: auto;\r\n  margin-right: 20px;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n      cursor: pointer;\r\n      transform: scale(1.1);\r\n  }\r\n  ${mobile({ display: \"flex\" })}\r\n`;\r\n\r\nconst ProductQuantity = styled.div`\r\n  font-size: 24px;\r\n  margin: 0px 10px;\r\n  ${mobile({ margin: \"5px 30px\" })}\r\n`;\r\nconst ProductAmount = styled.div`\r\n  font-size: 30px;\r\n  font-weight: 200;\r\n  margin-bottom: 10px;\r\n  ${mobile({ marginBottom: \"20px\" })}\r\n`;\r\n\r\nconst Hr = styled.hr`\r\n  background-color: #eee;\r\n  border: none;\r\n  height: 1px;\r\n  margin: 10px 0px;\r\n`;\r\nconst Summary = styled.div`\r\n  flex: 1;\r\n  border: 0.5px solid lightgray;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  height: 100%;\r\n  display: block;\r\n`;\r\nconst SummaryTitle = styled.h1`\r\n  font-weight: 200;\r\n  font-size: 35px;\r\n`;\r\nconst SummaryItem = styled.div`\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-weight: ${(props) => props.type === \"total\" && \"500\"};\r\n  font-size: ${(props) => props.type === \"total\" && \"24px\"};\r\n`;\r\nconst SummaryItemText = styled.span`\r\n  flex: 3;\r\n`;\r\nconst SummaryItemPrice = styled.span`\r\n  flex: 2;\r\n`;\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: black;\r\n  color: white;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Cart = () => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.user)\r\n  const [stripeToken, setStripeToken] = useState(null);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [message, setMessage] = useState('')\r\n  const [type, setType] = useState('info')\r\n  const [title, setTitle] = useState('')\r\n\r\n  const checkout = () => {\r\n    if(!user.currentUser?._id){\r\n        setMessage('Please login before checkout, redirecting to login page')\r\n        setType('warning')\r\n        setTitle('Notice')\r\n        const timeout = setTimeout(()=>{\r\n          navigate('/login')\r\n          window.clearTimeout(timeout)\r\n        }, 4000)\r\n    }\r\n    document.querySelector(\".payment-container\").style.display = \"block\";\r\n  };\r\n\r\n  const handleQuantity = (type, id) => {\r\n    const quantity = 1;\r\n    const product = cart.products.find((element) => element._id === id);\r\n    if (type === \"asc\") {\r\n      dispatch(addProduct({ ...product, quantity }));\r\n    }\r\n    if (type === \"desc\") {\r\n      dispatch(removeProduct({ ...product, quantity }));\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    const product = cart.products.find((element) => element._id === id);\r\n    const quantity = product.quantity;\r\n    if(window.confirm('Are you sure you want to remove this product'))\r\n        dispatch(removeProduct({ ...product, quantity }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const makeStripeRequest = async () => {\r\n      try {\r\n        const res = await userRequest.post(\"/checkout/stripe\", {\r\n          tokenId: stripeToken.id,\r\n          amount: cart.total + 20000,\r\n        });\r\n        \r\n        navigate(\"/success\", {\r\n          state: {\r\n            stripeData: res.data,\r\n            cart,\r\n          },\r\n        });\r\n      } catch (err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n\r\n    stripeToken && makeStripeRequest();\r\n  }, [stripeToken, cart, navigate]);\r\n\r\n  return (\r\n    <Container>\r\n      <Navbar />\r\n      <Announcement />\r\n      <Notification title={title} message={message} type={type} />\r\n      <Wrapper>\r\n        <Title>YOUR BAG</Title>\r\n        <Top>\r\n          <Link to=\"/\">\r\n            <TopButton>CONTINUE SHOPPING</TopButton>\r\n          </Link>\r\n          <TopTexts>\r\n            <TopText>Shopping Bag({cart.quantity})</TopText>\r\n            <TopText>Your Wishlist(0)</TopText>\r\n          </TopTexts>\r\n          <TopButton onClick={checkout} type=\"filled\">\r\n            CHECKOUT NOW\r\n          </TopButton>\r\n        </Top>\r\n        <Bottom>\r\n          <Info>\r\n            {cart.products.map((product) => (\r\n              <div key={product._id}>\r\n                <Product>\r\n                  <ProductDetail>\r\n                    <Image src={product.img[0]} />\r\n                    <Details>\r\n                      <ProductName>\r\n                        <b>Product: </b>\r\n                        {product.title}\r\n                      </ProductName>\r\n                      <ProductId>\r\n                        <b>ID: </b>\r\n                        <p style={{wordBreak: 'break-all', whiteSpace: 'normal'}}>{product._id}</p>\r\n                      </ProductId>\r\n                      <ProductType>\r\n                        <b>Type: </b>\r\n                        {product.category}\r\n                      </ProductType>\r\n                      <ProductPrice>\r\n                        <b>Price: </b> {product.price} &#8363;\r\n                      </ProductPrice>\r\n                    </Details>\r\n                    <DeleteContainer>\r\n                        <DeleteButton onClick={()=>removeFromCart(product._id)}>\r\n                            <DeleteForeverOutlined color=\"error\" />\r\n                        </DeleteButton>\r\n                    </DeleteContainer>\r\n                  </ProductDetail>\r\n                  <PriceDetail>\r\n                    <ProductQuantityContainer>\r\n                        <DeleteContainer>\r\n                            <DeleteButtonMobile onClick={()=>removeFromCart(product._id)}>\r\n                                <DeleteForeverOutlined color=\"error\" />\r\n                            </DeleteButtonMobile>\r\n                        </DeleteContainer>\r\n                      <Remove\r\n                        onClick={() => handleQuantity(\"desc\", product._id)}\r\n                      />\r\n                      <ProductQuantity>{product.quantity}</ProductQuantity>\r\n                      <Add onClick={() => handleQuantity(\"asc\", product._id)} />\r\n                    </ProductQuantityContainer>\r\n                    <ProductAmount>\r\n                      {product.price * product.quantity} &#8363;\r\n                    </ProductAmount>\r\n                  </PriceDetail>\r\n                </Product>\r\n                <Hr />\r\n              </div>\r\n            ))}\r\n          </Info>\r\n          <Summary>\r\n            <SummaryTitle>ORDER SUMMARY</SummaryTitle>\r\n            <SummaryItem>\r\n              <SummaryItemText>Subtotal</SummaryItemText>\r\n              <SummaryItemPrice>{cart.total} &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <SummaryItem>\r\n              <SummaryItemText>Estimated Shipping</SummaryItemText>\r\n              <SummaryItemPrice>20000 &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            {/* <SummaryItem>\r\n              <SummaryItemText>Shipping Discount</SummaryItemText>\r\n              <SummaryItemPrice>-20000 &#8363;</SummaryItemPrice>\r\n            </SummaryItem> */}\r\n            <SummaryItem type=\"total\">\r\n              <SummaryItemText>Total</SummaryItemText>\r\n              <SummaryItemPrice>{cart.total + 20000} &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <Button onClick={checkout}>CHECKOUT NOW</Button>\r\n          </Summary>\r\n        </Bottom>\r\n      </Wrapper>\r\n      <SelectPayment setStripeToken={setStripeToken} />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { loginFailure, loginStart, loginSuccess, registerStart, registerSuccess, registerFailure } from \"./userRedux\";\r\nimport { publicRequest } from \"../requestMethods\";\r\n\r\nexport const login = async (dispatch, user) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await publicRequest.post(\"/auth/login\", user);\r\n    dispatch(loginSuccess(res.data));\r\n  } catch (err) {\r\n    console.dir(err)\r\n    dispatch(loginFailure());\r\n  }\r\n};\r\n\r\nexport const register = async (dispatch, user) => {\r\n  dispatch(registerStart());\r\n  try{\r\n    const res = await publicRequest.post(\"/auth/register\", user);\r\n    console.dir(res)\r\n    dispatch(registerSuccess());\r\n  } catch (err) {\r\n    console.dir(err)\r\n    dispatch(registerFailure());\r\n  }\r\n}","import {GoogleLogin} from 'react-google-login'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport axios from 'axios';\r\nimport {useState, useEffect} from 'react'\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport { reset } from '../redux/userRedux'\r\nimport { login } from '../redux/apiCalls'\r\nimport Notification from '../components/Notification'\r\n\r\nconst LoginGoogle = ()=>{\r\n  const dispatch = useDispatch()\r\n  const {isFetching, error} = useSelector((state) => state.user)\r\n  const [notifyMes, setNotifyMes] = useState('')\r\n  const [notifyType, setNotifyType] = useState('info')\r\n  const [notifyTitle, setNotifyTitle] = useState('')\r\n\r\n  const responseGoogle = async (res)=>{\r\n    try{\r\n      const googleAuthRes = await axios.get(\r\n        'https://www.googleapis.com/oauth2/v3/tokeninfo?id_token='\r\n        +res.tokenId\r\n      )\r\n\r\n      if(googleAuthRes.data?.email_verified === 'true'){\r\n        let user = {\r\n          email: res.profileObj.email,\r\n          username: res.profileObj.googleId,\r\n          password: res.profileObj.googleId,\r\n          loginByGoogle: true,\r\n          img: res.profileObj.imageUrl\r\n        }\r\n\r\n        const checkUserRes = await publicRequest.get(\"/auth/checkUsername/\"+user.username);\r\n\r\n        if(checkUserRes.data === 'OK'){\r\n          const registerRes = await publicRequest.post(\"/auth/register\", user);\r\n          user = null\r\n          user= {...registerRes.data, password: res.profileObj.googleId}\r\n          user && login(dispatch, user);\r\n        }\r\n        else{\r\n          user.password && login(dispatch, user);\r\n        }\r\n        const timeout = setTimeout(()=>{\r\n          !error && window.location.reload()\r\n          window.clearTimeout(timeout)\r\n        }, 1000) \r\n\r\n      } else {\r\n        setNotifyMes('Your email cannot authorize')\r\n        setNotifyType('warning')\r\n        setNotifyTitle('Notice')      \r\n      }\r\n    } catch(err){\r\n      console.dir(err)\r\n      setNotifyMes(err.response.data)\r\n      setNotifyType('error')\r\n      setNotifyTitle('Error')  \r\n    }    \r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(error) {\r\n      setNotifyMes('Your username or/and password is incorrect, try again')\r\n      setNotifyType('error')\r\n      setNotifyTitle('Error')   \r\n      dispatch(reset())\r\n    }\r\n  }, [dispatch, error])  \r\n\r\n  return (\r\n    <div disabled={isFetching}>\r\n      <Notification \r\n          title={notifyTitle}\r\n          message={notifyMes}\r\n          type={notifyType}\r\n          duration={10000}\r\n      />     \r\n      <GoogleLogin\r\n        clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\r\n        buttonText='Login with Google'\r\n        onSuccess={responseGoogle}\r\n        onFailure={responseGoogle}\r\n        cookiePolicy={'single_host_origin'}     \r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginGoogle","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { login } from '../redux/apiCalls'\r\nimport { mobile } from '../responsive'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { reset } from '../redux/userRedux'\r\nimport Notification from '../components/Notification'\r\nimport LoginGoogle from '../components/LoginGoogle'\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.5), \r\n    rgba(255, 255, 255 ,0.5)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Wrapper = styled.div`\r\n    width: 30%;\r\n    padding: 20px;\r\n    ${mobile({width: '75%'})}\r\n`\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    font-size: 24px;\r\n`\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\nconst Input = styled.input`\r\n    flex: 1;\r\n    min-width: 40%;\r\n    margin: 10px 0px;\r\n    padding: 10px;\r\n`\r\nconst Button = styled.button`\r\n    width: 50%;\r\n    border: none;\r\n    padding: 15px 20px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        transform: scale(1.1);\r\n    }\r\n    margin-bottom: 5px;\r\n    &:disabled{\r\n        color: orange;\r\n        cursor: not-allowed;\r\n    }\r\n`\r\nconst Error = styled.span`\r\n    color: red;\r\n`\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const dispatch = useDispatch();\r\n    const {isFetching, error} = useSelector((state) => state.user)\r\n    const [notifyMes, setNotifyMes] = useState('')\r\n    const [notifyType, setNotifyType] = useState('info')\r\n    const [notifyTitle, setNotifyTitle] = useState('')\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(username.trim() !== '' && password.trim() !== ''){\r\n            try{\r\n                login(dispatch, {username, password})\r\n                \r\n                const timeout = setTimeout(()=>{\r\n                    !error && window.location.reload()\r\n                    window.clearTimeout(timeout)\r\n                }, 1000)                     \r\n            }\r\n            catch(err){\r\n                console.dir(err)\r\n            }\r\n        } else {\r\n            setNotifyMes('Your username or/and password is empty, please insert correctly')\r\n            setNotifyType('warning')\r\n            setNotifyTitle('Notice')\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(reset())\r\n        // document.querySelector('#username').focus()\r\n\r\n        if(error) {\r\n            setNotifyMes('Your username or/and password is incorrect, try again')\r\n            setNotifyType('error')\r\n            setNotifyTitle('Error')   \r\n        }\r\n    }, [dispatch, error])\r\n\r\n    return (\r\n        <Container>\r\n            <Notification \r\n                title={notifyTitle}\r\n                message={notifyMes}\r\n                type={notifyType}\r\n                duration={100000}\r\n            />        \r\n            <Wrapper>\r\n                <Title>SIGN IN</Title>\r\n                <Form>\r\n                    <Input \r\n                        placeholder=\"username\" id='username' required\r\n                        onChange={\r\n                            (e) => setUsername(e.target.value)\r\n                        }\r\n                    />\r\n                    <Input \r\n                        placeholder=\"password\" required\r\n                        onChange={\r\n                            (e) => setPassword(e.target.value)\r\n                        }\r\n                        type=\"password\"\r\n                    />\r\n                    <Button \r\n                        onClick={handleLogin}\r\n                        disabled={isFetching}\r\n                    >LOGIN</Button>\r\n                    <LoginGoogle/>\r\n                    {error && <Error>Somethings went wrong...</Error>}\r\n                    <Link to='/'\r\n                        style={{    \r\n                            margin: '5px 0px',\r\n                            fontSize: '12px',\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                        }}                    \r\n                    >DON'T REMEMBER THE PASSWORD?</Link>\r\n                    <Link to='/register'\r\n                        style={{    \r\n                            margin: '5px 0px',\r\n                            fontSize: '12px',\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >CREATE A NEW ACCOUNT</Link>\r\n                </Form>\r\n            </Wrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport { register } from '../redux/apiCalls'\r\nimport {reset} from '../redux/userRedux'\r\nimport { mobile } from '../responsive'\r\nimport Notification from '../components/Notification'\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.5), \r\n    rgba(255, 255, 255 ,0.5)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Wrapper = styled.div`\r\n    width: 40%;\r\n    padding: 20px;\r\n    ${mobile({width: '75%'})}\r\n`\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    font-size: 24px;\r\n`\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n`\r\nconst Input = styled.input`\r\n    flex: 1;\r\n    min-width: 40%;\r\n    margin: 20px 10px 0px 0px;\r\n    padding: 10px;\r\n`\r\nconst Agreement = styled.span`\r\n        font-size: 15px;\r\n        margin: 20px 0px;\r\n`\r\nconst Button = styled.button`\r\n    width: 40%;\r\n    border: none;\r\n    padding: 15px 20px;\r\n    margin-right: 20px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        transform: scale(1.1);\r\n    }\r\n    &:disabled{\r\n        color: orange;\r\n        cursor: not-allowed;\r\n    }\r\n`\r\n// const Error = styled.span`\r\n//     color: red;\r\n// `\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const dispatch = useDispatch();\r\n    const {isFetching, error} = useSelector((state) => state.user)\r\n    const [notifyMes, setNotifyMes] = useState('')\r\n    const [notifyType, setNotifyType] = useState('info')\r\n    const [notifyTitle, setNotifyTitle] = useState('')\r\n    // const [notifyDuration, setNotifyDuration] = useState(5000)\r\n    const navigate = useNavigate()\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        const usernameReg = new RegExp(/^(?!.*(!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|\\+|=|`|~|'|\"|;|:|,|<|\\.|>|\\/|\\?))[a-zA-Z0-9\\-_]{6,20}$/)\r\n        const emailReg = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n        const passwordReg = new RegExp(/^(?!.*(!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|\\+|=|`|~|'|\"|;|:|,|<|\\.|>|\\/|\\?))(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/)\r\n        if(!usernameReg.test(username) || !emailReg.test(email) || !passwordReg.test(password) || password !== confirmPassword){\r\n            if(!usernameReg.test(username)){\r\n                setNotifyMes('Your username should be between 6 and 20 characters'\r\n                    +'<br/>, including letters, numbers, \" - \", \" _ \"')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            } \r\n            if(!emailReg.test(email)){\r\n                setNotifyMes('Your email should be correct, example: \"abc@gmail.com\"')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            }\r\n            if(!passwordReg.test(password)){\r\n                setNotifyMes('Your password should be between 8 and 20 characters, which contain at least'\r\n                +'<br/> one uppercase, one lowercase letter, one number'\r\n                +' and may include the following characters : \" - \", \" _ \"')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            }\r\n            if(password !== confirmPassword){\r\n                setNotifyMes('Your confirm password should be same as your password')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            }\r\n        } else {\r\n            register(dispatch, {username, email, password})\r\n            \r\n            const timeout = setTimeout(()=>{\r\n                if(!error){\r\n                    setNotifyMes('Congratulations! Your account has been registered')\r\n                    setNotifyType('success')\r\n                    setNotifyTitle('Success')\r\n\r\n                    const timeout2 = setTimeout(()=>{\r\n                        navigate('/login')\r\n                        window.clearTimeout(timeout2)\r\n                    }, 3000)                    \r\n                }\r\n                window.clearTimeout(timeout)\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    const suggest = (inputType)=>{\r\n        switch(inputType){\r\n            case 'username':\r\n                setNotifyMes('Between 6 and 20 characters'\r\n                +'<br/>, including letters, numbers, \" - \", \" _ \"')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')                \r\n                break;\r\n            case 'email':\r\n                setNotifyMes('Email example: \"abc@gmail.com\"')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n            case 'password':\r\n                setNotifyMes('Between 8 and 20 characters, which contain at least'\r\n                    +'<br/> one uppercase, one lowercase letter, one number'\r\n                    +' and one character is listed below: \" - \", \" _ \"')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n            case 'conPassword':\r\n                setNotifyMes('Be same as your password')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n            default:\r\n                setNotifyMes('All field should be inputted correctly. Thanks!')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(reset())\r\n        document.querySelector('#username').focus()\r\n        if(error){\r\n            setNotifyMes('Your username was exists, try again')\r\n            setNotifyType('error')\r\n            setNotifyTitle('Error')\r\n\r\n            const timeout = setTimeout(()=>{\r\n                window.location.reload()\r\n                window.clearTimeout(timeout)\r\n            }, 3000)\r\n        }\r\n    }, [dispatch, error])\r\n\r\n    return (\r\n        <Container>\r\n            <Notification \r\n                title={notifyTitle}\r\n                message={notifyMes}\r\n                type={notifyType}\r\n            />\r\n            <Wrapper>\r\n                <Title>CREATE AN ACCOUNT</Title>\r\n                <Form>\r\n                    {/* <Input placeholder=\"name\"/> */}\r\n                    {/* <Input placeholder=\"last name\"/> */}\r\n                    <Input placeholder=\"username\" type='text' id='username' required value={username}\r\n                        onChange={\r\n                            (e) => setUsername(e.target.value)\r\n                        }\r\n                        onClick={()=>{suggest('username')}}                        \r\n                    />\r\n                    <Input placeholder=\"email\" type=\"email\" required value={email}\r\n                        onChange={\r\n                            (e) => setEmail(e.target.value)\r\n                        }  \r\n                        onClick={()=>{suggest('email')}}                      \r\n                    />\r\n                    <Input placeholder=\"password\" type=\"password\" required value={password}\r\n                        onChange={\r\n                            (e) => setPassword(e.target.value)\r\n                        }\r\n                        onClick={()=>{suggest('password')}}                        \r\n                    />\r\n                    <Input placeholder=\"confirm password\" type=\"password\" required value={confirmPassword}\r\n                        onChange={\r\n                            (e) => setConfirmPassword(e.target.value)\r\n                        }\r\n                        onClick={()=>{suggest('conPassword')}}                        \r\n                    />\r\n                    <Agreement>\r\n                        By creating an account, I consent to the processing\r\n                        of my personal data in accordance with the <b>PRIVACY POLICY</b>\r\n                    </Agreement>\r\n                    \r\n                    <Button\r\n                        onClick={handleRegister}\r\n                        disabled={isFetching}\r\n                    >CREATE</Button>\r\n                    <Link to='/login' style={{fontSize: '15px'}}>You already have an account <br/> redirect to login page</Link>\r\n                </Form>\r\n            </Wrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { userRequest, publicRequest } from \"../requestMethods\";\r\nimport {useDispatch} from 'react-redux'\r\nimport {removeCart} from '../redux/cartRedux'\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Announcement from '../components/Announcement';\r\n\r\nconst Success = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const data = location.state?.stripeData;\r\n  const cart = location.state?.cart\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [orderId, setOrderId] = useState(null);\r\n  const [amount, setAmount] = useState();\r\n  const [isMailSended, setIsMailSended] = useState(false);\r\n  const navigate = useNavigate()\r\n\r\n  // create order, remove cart after creating order\r\n  useEffect(() => {\r\n    const createOrder = async () => {\r\n      try {\r\n        setAmount(cart.total)\r\n        const res = await userRequest.post(\"/orders\", {\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total +20000,\r\n          address: data.billing_details.address,\r\n        });\r\n        \r\n        if(res.data?._id) {\r\n          //send mail to user\r\n          let mailText = `\r\n\\nYour order id: ${res.data._id}\\n\r\nBill amount: ${cart.total + 20000}\\n\r\nYour delivery address: ${data.billing_details.address?.line1}\\n\r\nYour payment method: Stripe\\n\r\nProducts that you have purchased: \\n\r\n  <table style='border: 1px solid; border-collapse: collapse;'>\r\n  <thead>\r\n    <tr>\r\n      <td style='border: 1px solid; border-collapse: collapse;'>Name</td>\r\n      <td style='border: 1px solid; border-collapse: collapse;'>Quantity</td>\r\n      <td style='border: 1px solid; border-collapse: collapse;'>Price</td>\r\n    </tr>\r\n  </thead>\r\n  <tbody>`\r\n\r\n          for(let item of cart.products) {\r\n            mailText += `<tr>\r\n                <td style='border: 1px solid; border-collapse: collapse;'>${item.title}</td>\r\n                <td style='border: 1px solid; border-collapse: collapse;'>${item.quantity}</td>\r\n                <td style='border: 1px solid; border-collapse: collapse;'>${item.price} &#8363;</td>\r\n              </tr>`\r\n          }\r\n\r\n          mailText = mailText+ '</tbody></table>\\n'\r\n            + 'Your products are preparing and will be delivered as soon as possible'\r\n            +'\\nSincere thanks\\n'\r\n\r\n          const emailRes = publicRequest.post('/mail', {userMail: currentUser?.email, mailText})\r\n          \r\n          setOrderId(res.data._id);\r\n          dispatch(removeCart())\r\n          \r\n          // delete cart redux state if user reload page\r\n          window.history.replaceState({}, '');\r\n\r\n          if(emailRes){\r\n            setIsMailSended(true)\r\n\r\n            const timeout = setTimeout(()=>{\r\n              navigate('/')\r\n              window.clearTimeout(timeout)\r\n            }, 60000)   \r\n          }      \r\n        }\r\n      } catch(err) {\r\n        console.dir(err)\r\n      }\r\n    };\r\n    data && cart && createOrder();\r\n  }, [cart, data, currentUser, dispatch, navigate]);\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: 'linear-gradient('\r\n          +'rgba(255, 255, 255, 0.5), '\r\n          +'rgba(255, 255, 255 ,0.5)'\r\n          +'),'\r\n          +'url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") '\r\n          +'center',\r\n        backgroundSize: 'cover',   \r\n        fontSize: '20px',\r\n        fontBold: '600'\r\n      }}\r\n    >\r\n      <p>{orderId\r\n        ? `Order has been created successfully. Your order number is ${orderId}`\r\n        : `You have not pay yet`}\r\n      </p>\r\n      {isMailSended && (<p>\r\n        Order infors was sended to your email\r\n      </p>)}\r\n      {amount && (<p>\r\n        Your total amount: {amount +20000} &#8363;\r\n      </p>)} \r\n      <Link to='/'>\r\n      <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n      </Link>\r\n    </div>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Success;","import { useEffect, useState } from \"react\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./order-list.css\";\r\nimport TimeAgo from 'javascript-time-ago'\r\nimport vi from 'javascript-time-ago/locale/vi.json' // Vietnamese.\r\nimport en from 'javascript-time-ago/locale/en.json' // English.\r\nimport {Link} from 'react-router-dom'\r\nimport Pagination from '@mui/material/Pagination';\r\n\r\nTimeAgo.addLocale(vi)\r\nTimeAgo.addLocale(en)\r\nTimeAgo.setDefaultLocale('vi')\r\n\r\nexport default function WidgetLg() {\r\n  const [orders, setOrders] = useState([]);\r\n  const user = useSelector((state) => state.user?.currentUser);\r\n  const timeAgo = new TimeAgo()\r\n  const [page, setPage] = useState(1);\r\n  const rowPerPage =  6;\r\n  const [totalPage, setTotalPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const getOrders = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"orders/find/\"+user._id);\r\n\r\n        let list = res.data.sort((a,b)=>{\r\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n        })\r\n        \r\n        setOrders(list);\r\n        setTotalPage(Math.ceil(res.data.length / rowPerPage))\r\n      } catch(err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    user && getOrders();\r\n  }, [user]);\r\n\r\n  const Button = ({ status }) => {\r\n    return <button className={\"widgetLgButton \" + status}>{status}</button>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"widgetLg\">\r\n    {orders?.length > 0 ? (\r\n      <>\r\n      <h3 className=\"widgetLgTitle\">Latest transactions</h3>\r\n      <table className=\"widgetLgTable\">\r\n        <thead>\r\n        <tr className=\"widgetLgTr\">\r\n          {/* <th className=\"widgetLgTh\">ID</th> */}\r\n          <th className=\"widgetLgTh\">Date</th>\r\n          <th className=\"widgetLgTh\">Amount</th>\r\n          <th className=\"widgetLgTh\">Status</th>\r\n          <th className='widgetLgTh'>Action</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        {orders.slice((page-1)*rowPerPage, page * rowPerPage).map((order, i) => (\r\n          <tr className=\"widgetLgTr\" key={order?._id}>\r\n            {/* <td className=\"widgetLgUser\">\r\n              <span className=\"widgetLgName\">{order?._id}</span>\r\n            </td> */}\r\n            <td className=\"widgetLgDate\">{\r\n              timeAgo.format(new Date(order?.updatedAt), 'round')\r\n            }</td>\r\n            <td className=\"widgetLgAmount\">{order?.amount} &#8363;</td>\r\n            <td className=\"widgetLgStatus\">\r\n            <Button status={order?.status} />        \r\n            </td>\r\n            <td className='widgetLgAction'>\r\n              <Link to={'/account/order/'+order?._id} className='link'>View</Link>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n        </tbody>\r\n      </table>\r\n      <div style={{\r\n        marginTop: '15px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        margin: 'auto',        \r\n      }}>\r\n        <Pagination\r\n          page={page}\r\n          count={totalPage}\r\n          onChange={(e, value) => setPage(value)}\r\n        />\r\n      </div>      \r\n      </>\r\n    ) : (\r\n      <h3>You have never purchased from us</h3>\r\n    )}\r\n    </div>\r\n  );\r\n}\r\n","// import {\r\n//   CalendarToday,\r\n//   LocationSearching,\r\n//   MailOutline,\r\n//   PermIdentity,\r\n//   PhoneAndroid,\r\n// } from \"@material-ui/icons\";\r\nimport { useSelector } from \"react-redux\";\r\n// import { Publish } from \"@material-ui/icons\";\r\nimport \"./user-profile.css\";\r\nimport OrderList from '../components/OrderList';\r\nimport {useState, useEffect} from 'react';\r\nimport { userRequest } from \"../requestMethods\";\r\nimport CryptoJS from \"crypto-js\";// hash password\r\nimport VisibilityRoundedIcon from '@mui/icons-material/VisibilityRounded';\r\nimport VisibilityOffRoundedIcon from '@mui/icons-material/VisibilityOffRounded';\r\nimport Google from \"@mui/icons-material/Google\";\r\n\r\nexport default function User() {\r\n  const user = useSelector((state) => state.user?.currentUser);\r\n  const [password, setPassword] = useState(null)\r\n  const [isPassVisible, setIsPassVisible] = useState(false)\r\n  const [hadFoundedPassword, setHadFoundedPassword] = useState(false)\r\n\r\n  const handleClick = ()=>{\r\n    let passInput = document.getElementById('password')\r\n\r\n    if(passInput)\r\n      if(!isPassVisible) {\r\n        passInput.type = 'text'\r\n        setIsPassVisible(true)\r\n      } else{\r\n        passInput.type = 'password'\r\n        setIsPassVisible(false)\r\n      } \r\n  }\r\n\r\n  useEffect(()=>{\r\n    const getPassword = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"users/findPassword/\"+user._id);\r\n        if(res.data === 'Admin should not see his or someone else password')\r\n          setPassword(null);\r\n        else \r\n          setPassword(res.data)\r\n      } catch(err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    user && password === null && getPassword();\r\n\r\n    if(password && !hadFoundedPassword){\r\n      const hashedPassword = CryptoJS.AES.decrypt(\r\n        password,\r\n        process.env.REACT_APP_PASS_SEC\r\n      );\r\n        \r\n      // original password was found from db\r\n      const originalPassword = hashedPassword.toString(CryptoJS.enc.Utf8);  \r\n      setPassword(originalPassword)  \r\n      setHadFoundedPassword(true)\r\n    }\r\n  }, [user, password, hadFoundedPassword]);\r\n\r\n  return (\r\n    <div className=\"user\">\r\n      <div className=\"userTitleContainer\">\r\n        <h1 className=\"userTitle\">View User</h1>\r\n      </div>\r\n      <div className=\"userContainer\">\r\n        {/* <div className=\"userShow\">\r\n          <div className=\"userShowTop\">\r\n            <img\r\n              src={user?.img || \"https://crowd-literature.eu/wp-content/uploads/2015/01/no-avatar.gif\"}\r\n              alt=\"\"\r\n              className=\"userShowImg\"\r\n            />\r\n            <div className=\"userShowTopTitle\">\r\n              <span className=\"userShowUsername\">Hung Vu</span>\r\n              <span className=\"userShowUserTitle\">Programmer</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"userShowBottom\">\r\n            <span className=\"userShowTitle\">Account Details</span>\r\n            <div className=\"userShowInfo\">\r\n              <PermIdentity className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">Hung Vu</span>\r\n            </div>\r\n            <div className=\"userShowInfo\">\r\n              <CalendarToday className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">10.01.1999</span>\r\n            </div>\r\n            <span className=\"userShowTitle\">Contact Details</span>\r\n            <div className=\"userShowInfo\">\r\n              <PhoneAndroid className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">+84 123 456 67</span>\r\n            </div>\r\n            <div className=\"userShowInfo\">\r\n              <MailOutline className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">hungvu@gmail.com</span>\r\n            </div>\r\n            <div className=\"userShowInfo\">\r\n              <LocationSearching className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">Hanoi | Vietnam</span>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n        <div className=\"userUpdate\">\r\n          <span className=\"userUpdateTitle\">Info</span>\r\n          <form className=\"userUpdateForm\">\r\n            <div className=\"userUpdateLeft\">\r\n              <div className=\"userUpdateItem\">\r\n                <label>Profile picture</label>\r\n                <img src={user?.img} alt={user?.username}\r\n                  style={{\r\n                    backgroundColor: 'hsl(0, 0%, 90%)',\r\n                    transition: 'background-color 300ms',  \r\n                    borderRadius: '50%',  \r\n                    width: '80px',\r\n                    height: '80px'                \r\n                  }}\r\n                  referrerPolicy=\"no-referrer\"\r\n                />\r\n              </div>\r\n              {!user?.loginByGoogle && (\r\n              <div className=\"userUpdateItem\">\r\n                <label>Username</label>\r\n                <input\r\n                  type=\"text\" id='username' name='username' \r\n                  placeholder={user?.username}\r\n                  defaultValue={user?.username}\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              )}\r\n              {user?.loginByGoogle && (\r\n              <div className=\"userUpdateItem\">\r\n                <label>Logged by:</label>\r\n                <Google/>\r\n              </div>\r\n              )}\r\n              {!user?.loginByGoogle && (\r\n              <div className=\"userUpdateItem\">\r\n                <label>Password</label>\r\n                <div style={{display: 'flex', width: '100%', flexWrap: 'wrap'}}>\r\n                <input\r\n                  type=\"password\" id='password' name='password' \r\n                  placeholder={password}\r\n                  defaultValue={password}\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                  style={{marginRight: '50px'}} \r\n                />\r\n                {!isPassVisible ? (\r\n                <VisibilityRoundedIcon onClick={()=>handleClick()}/>\r\n                ) : (\r\n                <VisibilityOffRoundedIcon onClick={()=>handleClick()}/>\r\n                )}\r\n                </div>\r\n              </div>\r\n              )}\r\n              <div className=\"userUpdateItem\">\r\n                <label>Email</label>\r\n                <input\r\n                  type=\"text\" id='email' name='email' \r\n                  placeholder={user?.email}\r\n                  defaultValue={user?.email}\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"userUpdateItem\">\r\n                <label>Phone</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"+84 123 456 67\"\r\n                  defaultValue=\"+84 123 456 67\"\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"userUpdateItem\">\r\n                <label>Address</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Hanoi | Vietnam\"\r\n                  defaultValue=\"Hanoi | Vietnam\"\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"userUpdateRight\">\r\n              <div className=\"userUpdateUpload\">\r\n                <img\r\n                  className=\"userUpdateImg\"\r\n                  src={user?.img || \"https://crowd-literature.eu/wp-content/uploads/2015/01/no-avatar.gif\"}\r\n                  alt=\"\"\r\n                />\r\n                <label htmlFor=\"file\">\r\n                  <Publish className=\"userUpdateIcon\" />\r\n                </label>\r\n                <input type=\"file\" id=\"file\" style={{ display: \"none\" }} />\r\n              </div>\r\n              <button className=\"userUpdateButton\">Update</button>\r\n            </div> */}\r\n          </form>\r\n        </div>\r\n\r\n        <OrderList/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {useEffect} from 'react';\r\nimport Announcement from '../components/Announcement';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Newsletter from '../components/Newsletter';\r\nimport UserProfile from '../components/UserProfile';\r\n\r\nconst Account = () => {\r\n  useEffect(()=> {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    }); \r\n  },[])\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <UserProfile/>\r\n    <Newsletter/>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import {\r\n  CalendarToday,\r\n  MailOutline,\r\n  PermIdentity,\r\n  PhoneAndroid,\r\n} from \"@material-ui/icons\";\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport NumbersIcon from '@mui/icons-material/Numbers';\r\nimport MonetizationOnRoundedIcon from '@mui/icons-material/MonetizationOnRounded';\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport \"./order-detail.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Inventory2RoundedIcon from '@mui/icons-material/Inventory2Rounded';\r\nimport { userRequest, publicRequest } from \"../requestMethods\";\r\n\r\nexport default function Order() {\r\n  const location = useLocation();\r\n  const orderId = location.pathname.split(\"/\")[3];\r\n  const [order, setOrder] = useState()\r\n  const user = useSelector((state) => state.user?.currentUser);  \r\n  const [products, setProducts] = useState([])\r\n\r\n  const columns = [\r\n    window.innerWidth > 700 && { field: \"_id\", headerName: \"ID\", width: 260 },\r\n    {\r\n      field: \"product\",\r\n      headerName: \"Product\",\r\n      width: window.innerWidth > 700 ? 210 : 190,\r\n      renderCell: (params) => {\r\n        return (\r\n          <div className=\"productListItem\">\r\n            <img className=\"productListImg\" \r\n              src={\r\n                params.row.img[0]\r\n              } alt={params.row.title}\r\n            />\r\n            <p>{params.row.title}</p>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      field: \"price\",\r\n      headerName: window.innerWidth > 700 ? \"Price\" : '',\r\n      renderCell: (params) =>{\r\n        return(\r\n          <div style={{textAlign: 'center', width: '100%'}}>\r\n            <p>{params.row.price+' '}</p>\r\n            {/* &#8363; */}\r\n          </div>\r\n        )\r\n      },\r\n      width: window.innerWidth > 700 ? 150 : 80,\r\n    },\r\n    {\r\n      field: \"quantity\",\r\n      headerName: window.innerWidth > 700 ? \"Quantity\" : 'N',\r\n      renderCell: (params) =>{\r\n        return(\r\n          <div style={{textAlign: 'center', width: '100%'}}>\r\n            <p>{params.row.quantity}</p>\r\n          </div>\r\n        )\r\n      },\r\n      width: window.innerWidth > 700 ? 160 : 50,\r\n    },\r\n    {\r\n      field: \"action\",\r\n      headerName: \"Action\",\r\n      width: window.innerWidth > 700 ? 150 : 60,\r\n      renderCell: (params) => {\r\n        return (\r\n          <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n            <Link to={\"/product/\" + params.row._id}>\r\n              <button className=\"productListEdit\">View</button>\r\n            </Link>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ]; \r\n  \r\n  useEffect(()=>{\r\n    const getOrder = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"/orders/\"+orderId+'/'+user?._id);\r\n        setOrder(res.data);\r\n      } catch(err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    !order && getOrder();\r\n\r\n    const getProducts = async ()=>{\r\n      let prodsTemp = [];\r\n      const orderProds = order?.products\r\n      for( let i=0; i<orderProds?.length; i++){\r\n        try {\r\n          const res = await publicRequest.get(\"/products/find/\"+orderProds[i].productId);\r\n          prodsTemp.push({...res.data, quantity: order.products[i].quantity})\r\n        } catch(err) {\r\n          console.dir(err);\r\n        }\r\n      }\r\n      \r\n      prodsTemp.length === orderProds?.length && setProducts(prodsTemp)\r\n    }\r\n    products.length === 0 && getProducts()\r\n  }, [orderId, order, user, products])\r\n\r\n  return (\r\n    <div className=\"order\">\r\n      <div className=\"orderTitleContainer\">\r\n        <h1 className=\"orderTitle\">View Order</h1>\r\n      </div>\r\n      <div className=\"orderContainer\">\r\n        <div className=\"orderShow\">\r\n          <div className=\"orderShowBottom\">\r\n            <span className=\"orderShowTitle\">Status</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <Inventory2RoundedIcon className='orderShowIcon'  />\r\n              <button className={\"widgetLgButton \" + order?.status}>{\r\n                order?.status\r\n              }</button> \r\n            </div> \r\n            <span className=\"orderShowTitle\">Buyer Details</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <PermIdentity className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.userId}</span>\r\n            </div>\r\n            {order?.address?.name && (\r\n            <div className=\"orderShowInfo\">\r\n              <PermIdentity className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.address?.name}</span>\r\n            </div>\r\n            )}\r\n\r\n            <span className=\"orderShowTitle\">Order Details</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <NumbersIcon className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?._id}</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <MonetizationOnRoundedIcon className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.amount}</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <CalendarToday className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.updatedAt}</span>\r\n            </div>   \r\n\r\n            <span className=\"orderShowTitle\">Delivery Details</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <PermIdentity className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.address?.name}</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              {(order?.address?.city || order?.address?.country || order?.address?.state) \r\n              ? (\r\n                <>\r\n                <MapIcon className=\"orderShowIcon\" />\r\n                <span className=\"orderShowInfoTitle\">{\r\n                  order?.address?.country+' '+order?.address?.city\r\n                }</span>  \r\n                </>              \r\n              ) : (\r\n                <>\r\n                <PhoneAndroid className=\"orderShowIcon\" />\r\n                <span className=\"orderShowInfoTitle\">{\r\n                  order?.address?.phone\r\n                }</span> \r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <MailOutline className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{\r\n                order?.address?.postal_code || order?.address?.email\r\n              }</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <LocationOnIcon className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{\r\n                order?.address?.address || (order?.address?.line1 || order?.address?.line2)\r\n              }</span>\r\n            </div>           \r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"orderUpdate\">\r\n          <span className=\"orderUpdateTitle\">Products Info</span>\r\n          <form className=\"orderUpdateForm\">\r\n            <div className=\"orderUpdateLeft\">\r\n              {/* <div className=\"orderUpdateItem\">\r\n                <label>Order id</label>\r\n                <input\r\n                  type=\"text\" id='orderId' name='orderId' \r\n                  defaultValue={order?._id}\r\n                  className=\"orderUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div> */}\r\n              <div className=\"orderUpdateItem\">\r\n                <label>Products list</label>\r\n\r\n              </div>\r\n              {products && (\r\n              <DataGrid\r\n                rows={products}\r\n                disableSelectionOnClick\r\n                columns={columns}\r\n                getRowId={(row) => row._id}\r\n                rowsPerPageOptions={[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 100]}\r\n              />\r\n              )}                \r\n              {/* <div className=\"orderUpdateItem\">\r\n                <label>Amount</label>\r\n                <input\r\n                  type=\"text\" id='amount' name='amount' \r\n                  defaultValue={order?.amount}\r\n                  className=\"orderUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div> */}\r\n              {/* <div className=\"orderUpdateItem\">\r\n                <label>Status</label>\r\n                <select name=\"inStock\" id=\"stock\" \r\n                  className={\"widgetLgButton \"+order?.status} \r\n                  defaultValue={order?.status}\r\n                  onChange={(e)=>{\r\n                    setOrder((prev)=>{\r\n                      let obj = {...prev}\r\n                      obj.status = e.target.value\r\n                      return {...obj}\r\n                    })\r\n                  }}\r\n                >\r\n                  <option value=\"pending\" className={\"widgetLgButton pending\"}>\r\n                    Pending\r\n                  </option>\r\n                  <option value=\"approved\" className={\"widgetLgButton approved\"}>\r\n                    Approved\r\n                  </option>\r\n                  <option value=\"declined\" className={\"widgetLgButton declined\"}>\r\n                    Declined\r\n                  </option>\r\n                </select>    \r\n              </div>\r\n              <div className=\"orderUpdateItem\">\r\n                <button className=\"updateButton\" onClick={(e)=>{handleUpdate(e)}}>Update</button>\r\n              </div> */}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {useEffect} from 'react';\r\nimport Announcement from '../components/Announcement';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Newsletter from '../components/Newsletter';\r\nimport OrderDetail from '../components/OrderDetail';\r\n\r\nconst AccountOrder = () => {\r\n  useEffect(()=> {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    }); \r\n  },[])\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <OrderDetail/>\r\n    <Newsletter/>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountOrder;\r\n","import Product from \"./pages/Product\";\r\nimport Home from \"./pages/Home\";\r\nimport ProductList from \"./pages/ProductList\";\r\nimport Cart from \"./pages/Cart\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport Success from \"./pages/Success\";\r\nimport Momo from \"./pages/MomoResult\";\r\nimport { useSelector} from 'react-redux'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes as Switch,\r\n  Route,\r\n  Navigate\r\n} from \"react-router-dom\";\r\nimport './App.css'\r\nimport Account from \"./pages/Account\";\r\nimport AccountOrder from \"./pages/AccountOrder\";\r\n\r\n\r\nconst App = () => {\r\n  const user = useSelector((state) => state.user.currentUser);\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" element={<Home/>}/>\r\n        <Route exact path=\"/products\" element={<ProductList/>}/>\r\n        <Route exact path=\"/products/:category\" element={<ProductList/>}/>\r\n        <Route exact path=\"/product/:id\" element={<Product/>}/>\r\n        <Route exact path=\"/login\" element={\r\n          user ? <Navigate to={-1} /> : <Login/>\r\n        }/>\r\n        <Route exact path=\"/register\" element={\r\n          user ? <Navigate to={-1} /> : <Register/>\r\n        }/>\r\n        <Route exact path=\"/logout\" element={<Home/>}/>\r\n        <Route exact path=\"/cart\" element={<Cart/>}/>\r\n        {user && (\r\n          <Route exact path=\"/account/order/:orderId\" element={<AccountOrder/>}/>\r\n        )}\r\n        {user && (\r\n          <Route exact path=\"/account\" element={<Account/>}/>\r\n        )}\r\n        {user && (\r\n          <Route exact path=\"/success\" element={<Success/>}/>\r\n        )}\r\n        {user && (\r\n          <Route exact path=\"/resultMomo\" element={<Momo/>}/>\r\n        )}\r\n        <Route exact path=\"/*\" element={<Navigate to='/'/>}/>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n};\r\n\r\nexport default App;","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport cartReducer from \"./cartRedux\";\r\nimport userReducer from \"./userRedux\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst persistConfig = {\r\n    key: \"root\",\r\n    version: 1,\r\n    storage,\r\n  };\r\n  \r\nconst rootReducer = combineReducers({ user: userReducer, cart: cartReducer });\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n    reducer: persistedReducer,\r\n\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      }),\r\n})\r\n\r\nexport let persistor = persistStore(store);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux'\r\nimport {store, persistor} from './redux/store'\r\nimport {PersistGate} from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  //redux\r\n  <Provider store = {store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst userRedux = createSlice({\r\n    name:'user',\r\n    initialState: {\r\n        currentUser: null,\r\n        isFetching: false,\r\n        error: false\r\n    },\r\n    reducers: {\r\n        loginStart: (state) => {\r\n            state.isFetching = true\r\n        },\r\n        loginSuccess: (state, action) => {\r\n            state.isFetching = false\r\n            state.currentUser = action.payload\r\n        },\r\n        loginFailure: (state) => {\r\n            state.isFetching = false\r\n            state.error = true\r\n        },\r\n        logout: (state) => {\r\n            state.currentUser = null;\r\n            state.isFetching = false;\r\n            state.error = false;\r\n        },\r\n\r\n        registerStart: (state) => {\r\n            state.isFetching = true\r\n        },\r\n        registerSuccess: (state) => {\r\n            state.isFetching = false\r\n            state.error = false\r\n        },\r\n        registerFailure: (state) => {\r\n            state.isFetching = false\r\n            state.error = true\r\n        },   \r\n        \r\n        reset: (state) =>{\r\n            state.currentUser= null\r\n            state.isFetching= false\r\n            state.error= false\r\n        }\r\n    }\r\n})\r\n\r\nexport const {loginStart, loginSuccess, loginFailure, logout, registerStart, registerFailure, registerSuccess, reset} = userRedux.actions\r\nexport default userRedux.reducer;","import styled from \"styled-components\"\r\n\r\nconst Container = styled.div`\r\n    height: 30px;\r\n    background-color: teal;\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    margin-top: 70px;\r\n`\r\n\r\nconst Announcement = () => {\r\n    return (\r\n        <Container>\r\n            Super Deal! Free Shipping on Orders Over $50\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Announcement\r\n","import { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {ArrowUpwardRounded} from \"@material-ui/icons\";\r\n\r\nconst Button = styled.button`\r\n  display: none;\r\n  width: 50px;\r\n  height: 50px;\r\n  padding: 10px;\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: grey;\r\n  color: white;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  border: none;\r\n  box-shadow: 0 5px 10px #ccc;\r\n  z-index: 3;\r\n  opacity: 0.6;\r\n  transition: all 0.5s ease;\r\n  &:hover{\r\n      opacity: 1.0;\r\n      transform: scale(1.1);\r\n      background: #008080;\r\n  }\r\n`\r\n\r\nconst GoToTop = () => {\r\n  // The back-to-top button is hidden at the beginning\r\n  const btnRef = useRef();\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", () => {\r\n      if(btnRef.current){\r\n        if (window.pageYOffset > 300) {\r\n          btnRef.current.style.display = 'block';\r\n        } else {\r\n          btnRef.current.style.display = 'none';\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // This function will scroll the window to the top \r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth' // for smoothly scrolling\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Button onClick={scrollToTop} ref={btnRef}>\r\n      <ArrowUpwardRounded/>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GoToTop;","import styled from \"styled-components\";\r\nimport {\r\n  Facebook,\r\n  Instagram,\r\n  Twitter,\r\n  Pinterest,\r\n  Room,\r\n  Mail,\r\n  Phone,\r\n} from \"@material-ui/icons\";\r\nimport { mobile } from \"../responsive\";\r\nimport GoToTop from \"./GoToTop\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useState } from \"react\";\r\nimport Notification from \"../components/Notification\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  background-color: white;\r\n  ${mobile({ flexDirection: \"column\" })}\r\n`;\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n`;\r\nconst Logo = styled.h1``;\r\nconst Desc = styled.div`\r\n  margin: 20px 0px;\r\n`;\r\nconst SocialContainer = styled.div`\r\n  display: flex;\r\n`;\r\nconst SocialIcon = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  color: white;\r\n  background-color: #${(props) => props.color};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Center = styled.div`\r\n  flex: 1;\r\n  padding: 20px;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\nconst Title = styled.h3`\r\n  margin-bottom: 30px;\r\n`;\r\nconst List = styled.ul`\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\nconst ListItem = styled.li`\r\n  width: 50%;\r\n  margin-bottom: 10px;\r\n`;\r\nconst Right = styled.div`\r\n  flex: 1;\r\n  padding: 20px;\r\n  ${mobile({ backgroundColor: \"#fff8f8\" })}\r\n`;\r\nconst ContactItem = styled.div`\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst Payment = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n`;\r\n\r\nconst Footer = () => {\r\n  const user = useSelector((state) => state.user);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [type, setType] = useState(\"info\");\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const authorize = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"/auth/authorize\");\r\n        if (res?.data === \"Logged in\") {\r\n          // setMessage(\"Hello \"+user?.currentUser.username);\r\n          // setType(\"success\");\r\n          // setTitle(\"Welcome\");\r\n        }\r\n      } catch (err) {\r\n        console.dir(err);\r\n        if (err?.response?.data === \"Token is not valid!\") {\r\n          setMessage(\"You are not logged in <br/> or your login session has expired<br/>, please login again\");\r\n          setType(\"warning\");\r\n          setTitle(\"Notice\");\r\n        }\r\n        if (err?.response?.status === 401) {\r\n          setMessage(\"You are not logged in\");\r\n          setType(\"warning\");\r\n          setTitle(\"Notice\");\r\n        }\r\n      }\r\n    };\r\n\r\n    authorize();\r\n  }, [user]);\r\n\r\n  return (\r\n    <Container>\r\n      <Notification title={title} message={message} type={type} />\r\n      <GoToTop />\r\n      <Left>\r\n        <Logo>ROBOS</Logo>\r\n        <Desc>\r\n          Curabitur gravida nisi at nibh. In hac habitasse platea dictumst.\r\n          Aliquam augue quam, sollicitudin vitae , consectetuer eget, rutrum at,\r\n          lorem.\r\n        </Desc>\r\n        <SocialContainer>\r\n          <SocialIcon color=\"3b5999\">\r\n            <Facebook />\r\n          </SocialIcon>\r\n          <SocialIcon color=\"e4405f\">\r\n            <Instagram />\r\n          </SocialIcon>\r\n          <SocialIcon color=\"55acee\">\r\n            <Twitter />\r\n          </SocialIcon>\r\n          <SocialIcon color=\"e60023\">\r\n            <Pinterest />\r\n          </SocialIcon>\r\n        </SocialContainer>\r\n      </Left>\r\n      <Center>\r\n        <Title>Useful Links</Title>\r\n        <List>\r\n          <ListItem>Home</ListItem>\r\n          <ListItem>Cart</ListItem>\r\n          <ListItem>Transformers</ListItem>\r\n          <ListItem>Marvel</ListItem>\r\n          <ListItem>DC-Comic</ListItem>\r\n          <ListItem>Accessories</ListItem>\r\n          <ListItem>My Account</ListItem>\r\n          <ListItem>Order Tracking</ListItem>\r\n          <ListItem>WishList</ListItem>\r\n          <ListItem>Terms</ListItem>\r\n        </List>\r\n      </Center>\r\n      <Right>\r\n        <Title>Contact</Title>\r\n        <ContactItem>\r\n          <Room style={{ marginRight: \"10px\" }} /> Ha Noi, Viet Nam\r\n        </ContactItem>\r\n        <ContactItem>\r\n          <Phone style={{ marginRight: \"10px\" }} /> +84 123 456 789\r\n        </ContactItem>\r\n        <ContactItem>\r\n          <Mail style={{ marginRight: \"10px\" }} /> contact@robos.com\r\n        </ContactItem>\r\n        <Payment src=\"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png\" />\r\n      </Right>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst playlist = [\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/ArrivalToEarthOSTTransformers-Stev_bmn2.mp3?alt=media&token=25341daa-7e6e-445c-bfd8-8261b7c3e4be',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/The%20Flash%20Theme%20At%20The%20Speed%20Of%20Force_%20-.mp3?alt=media&token=2a1d26ac-109b-44e7-b22d-d9352803718a',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/TheAvengers-AlanSilvestri_3zzk.mp3?alt=media&token=0614e088-84a9-4c07-94ed-9df9a8544ab2',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/Sixteen%20Hundred%20Men%20_%201917%20OST-192k.mp3?alt=media&token=68c7348c-e112-48c9-a751-928ddc115568',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/johan_soderqvist-Under_No_Flag_Gratomic.com_2.mp3?alt=media&token=14ddfed2-bd4a-43bc-9af1-375a486e2aed',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/The%20Dark%20Knight%20-%20Ending.mp3?alt=media&token=b3eb52b8-3e9e-4619-92f5-6e0b3d6cbf90',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/IronMan3-BrianTyler-2508732.mp3?alt=media&token=c7409679-d031-46e3-954e-203209403025',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/Inception%20Soundtrack%20HD%20-%20%2312%20Time%20(Hans%20Zimmer).mp3?alt=media&token=b9e2acde-ab73-455b-8039-2ecfad1ee769',\r\n]\r\nconst Music = ({category}) => {\r\n  const [track, setTrack] = useState(category);\r\n  const [isTrackChanged, setIsTrackChanged] = useState(false);\r\n  const currentPage = window.location.href.split('/')[3];\r\n  const categoryAtUrl = window.location.href.split('/')[4];\r\n  const audioTag = useRef();\r\n\r\n  const playNextTrack = ()=>{\r\n    let index = playlist.indexOf(track)\r\n\r\n    if(index >= 0 && index <= playlist.length - 2){\r\n      setTrack(playlist[index+1])\r\n      setIsTrackChanged(true)\r\n    }\r\n    if(index === playlist.length - 1){\r\n      setTrack(playlist[0])\r\n      setIsTrackChanged(true)\r\n    }\r\n  }\r\n  \r\n  useEffect(()=>{\r\n    if(!categoryAtUrl && !isTrackChanged)\r\n    switch (category) {\r\n      case 'Transformers':\r\n        setTrack(playlist[0]);\r\n        break;\r\n      case 'DC-Comics':\r\n        setTrack(playlist[1]);\r\n        break;\r\n      case 'Marvel':\r\n        setTrack(playlist[2]);\r\n        break;\r\n      default:\r\n        setTrack(!currentPage.includes('product') \r\n          ? playlist[Math.floor(Math.random() * (8 - 3) + 3)] \r\n          : null);\r\n        break;\r\n    }\r\n    if(categoryAtUrl && !isTrackChanged)\r\n    switch (categoryAtUrl) {\r\n      case 'Transformers':\r\n        setTrack(playlist[0]);\r\n        break;\r\n      case 'DC-Comics':\r\n        setTrack(playlist[1]);\r\n        break;\r\n      case 'Marvel':\r\n        setTrack(playlist[2]);\r\n        break;\r\n      default:\r\n        setTrack(!currentPage.includes('product') \r\n          ? playlist[Math.floor(Math.random() * (8 - 3) + 3)] \r\n          : null);\r\n        break;\r\n    }\r\n    \r\n    let timeout = setTimeout(()=>{\r\n      if(audioTag?.current?.volume) {\r\n        audioTag.current.volume = 0.02; \r\n        window.clearInterval(timeout)\r\n      }\r\n    }, 100)\r\n\r\n    if(isTrackChanged && track){\r\n      const source = document.getElementById('music-source')\r\n      source.src = track;\r\n      audioTag.current.load()\r\n      audioTag.current.play()\r\n    }\r\n  }, [category, currentPage, audioTag, categoryAtUrl, isTrackChanged, track])\r\n\r\n  const handleMouseOver = ()=>{\r\n    document.querySelector('#music-player').style.transform = 'translate(0%, 0%)'\r\n  }\r\n\r\n  const handleMouseOut = ()=>{\r\n    document.querySelector('#music-player').style.transform = 'translateX(calc(100% - 45px))'\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {track && (\r\n      <audio\r\n        ref={audioTag}\r\n        id='music-player'\r\n        autoPlay={true}\r\n        controls\r\n        volume= '0.02'\r\n        onMouseOver={handleMouseOver}\r\n        onMouseOut={handleMouseOut}\r\n        onEnded={playNextTrack}\r\n        style={{\r\n          width: '25vw',\r\n          position: 'fixed',\r\n          top: '70px',\r\n          right: '0',\r\n          zIndex: '999',\r\n          transform: 'translateX(calc(100% - 45px))',\r\n          transition: 'all 0.5s ease',\r\n        }}\r\n      >\r\n        <source\r\n          id='music-source'\r\n          src= {track}\r\n          type=\"audio/mpeg\"\r\n        />\r\n      </audio>\r\n    )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Music;\r\n","import styled from \"styled-components\";\r\nimport ShoppingCartRoundedIcon from \"@mui/icons-material/ShoppingCartRounded\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport LoginRoundedIcon from \"@mui/icons-material/LoginRounded\";\r\nimport LogoutRoundedIcon from \"@mui/icons-material/LogoutRounded\";\r\nimport PersonAddAltRoundedIcon from \"@mui/icons-material/PersonAddAltRounded\";\r\nimport PersonRoundedIcon from \"@mui/icons-material/PersonRounded\";\r\nimport { GoogleLogout } from \"react-google-login\";\r\nimport Button from \"@mui/material/Button\";\r\nimport MenuRoundedIcon from \"@mui/icons-material/MenuRounded\";\r\nimport Menu from \"@mui/material/Menu\";\r\n// import MenuItem from '@mui/material/MenuItem';\r\nimport { logout } from \"../redux/userRedux\";\r\nimport { mobile } from \"../responsive\";\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport Music from \"./Music\";\r\nimport Notification from \"./Notification\";\r\nimport \"./navbar.css\";\r\n\r\nconst Container = styled.div`\r\n  ${mobile({ padding: \"10px 0px\" })}\r\n  position: fixed;\r\n  z-index: 2000;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  height: 70px;\r\n  background-color: white;\r\n`;\r\nconst Wrapper = styled.div`\r\n  padding: 10px 20px;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  ${mobile({ padding: '0px 20px'})}\r\n`;\r\n\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n\r\n  ${mobile({ flex: 2 })}\r\n`;\r\n\r\nconst Language = styled.span`\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 25px;\r\n  width: 60%;\r\n  ${mobile({ width: \"90%\", marginLeft: \"0px\" })}\r\n`;\r\n\r\nconst SearchLabel = styled.label`\r\n  display: none;\r\n  font-size: 12px;\r\n  margin-right: 5px;\r\n  ${mobile({ display: \"block\" })}\r\n`;\r\n\r\nconst Center = styled.div`\r\n  flex: 1;\r\n  text-align: center;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Logo = styled.h1`\r\n  font-weight: bold;\r\n  ${mobile({ fontSize: \"24px\" })}\r\n`;\r\n\r\nconst Right = styled.div`\r\n  margin-right: 10px;\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  transition: all 0.5s ease;\r\n  ${mobile({ flex: 2, justifyContent: \"center\", marginRight: \"0px\" })}\r\n`;\r\n\r\nconst MenuItem = styled.div`\r\n  display: flex;\r\n  ${'' /* justify-content: center; */}\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  ${'' /* margin-left: 25px; */}\r\n  margin: 10px;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n  ${mobile({\r\n    fontSize: \"12px\",\r\n    margin: \"10px\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  })}\r\n`;\r\n\r\nconst Navbar = ({ category }) => {\r\n  const quantity = useSelector((state) => state.cart.quantity);\r\n  const user = useSelector((state) => state.user?.currentUser);\r\n  const dispatch = useDispatch();\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const inputRef = useRef();\r\n  const centerRef = useRef();\r\n  const rightRef = useRef();\r\n  const [notifyMes, setNotifyMes] = useState(\"\");\r\n  const [notifyType, setNotifyType] = useState(\"info\");\r\n  const [notifyTitle, setNotifyTitle] = useState(\"\");\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    if(!anchorEl){\r\n      document.getElementById('root').style.opacity = 0.5;\r\n      setAnchorEl(event.currentTarget)\r\n    } else {\r\n      document.getElementById('root').style.opacity = 1;\r\n      setAnchorEl(null);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    document.getElementById('root').style.opacity = 1;\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  //for device width <= 700\r\n  const disableCenterRight = () => {\r\n    if (window.innerWidth <= 700) {\r\n      if (inputRef.current) {\r\n        inputRef.current.style.width = \"80vw\";\r\n      }\r\n      if (centerRef.current?.childNodes) {\r\n        // centerRef.current.style.display = 'none'\r\n        centerRef.current.style.opacity = \"0\";\r\n      }\r\n      if (rightRef.current?.childNodes) {\r\n        // rightRef.current.style.display = 'none'\r\n        rightRef.current.style.opacity = \"0\";\r\n      }\r\n    } else {\r\n      inputRef.current.style.width = \"30vw\";\r\n    }\r\n  };\r\n\r\n  //for device width <= 700\r\n  const displayCenterRight = () => {\r\n    if (window.innerWidth <= 700) {\r\n      if (inputRef.current) {\r\n        inputRef.current.style.width = \"100%\";\r\n      }\r\n      if (centerRef.current?.childNodes) {\r\n        // centerRef.current.style.display = 'block'\r\n        centerRef.current.style.opacity = \"1\";\r\n      }\r\n      if (rightRef.current?.childNodes) {\r\n        // rightRef.current.style.display = 'flex'\r\n        rightRef.current.style.opacity = \"1\";\r\n      }\r\n    } else {\r\n      inputRef.current.style.width = \"100%\";\r\n    }\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e && e.preventDefault();\r\n    setNotifyMes(\"You are logged out\");\r\n    setNotifyType(\"warning\");\r\n    setNotifyTitle(\"Notice\");\r\n    dispatch(logout());\r\n  };\r\n\r\n  useEffect(() => {\r\n    const search = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products\");\r\n        setSearchResults(res.data);\r\n      } catch (err) {\r\n        console.dir(err);\r\n        setSearchResults([]);\r\n      }\r\n    };\r\n    search();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Notification\r\n        title={notifyTitle}\r\n        message={notifyMes}\r\n        type={notifyType}\r\n        duration={5000}\r\n      />\r\n      <Music category={category} />\r\n      <Wrapper>\r\n        <Left>\r\n          <Language>EN</Language>\r\n          <SearchContainer\r\n            style={\r\n              window.innerWidth < 1000 ? { width: \"90%\" } : { width: \"60%\" }\r\n            }\r\n          >\r\n            <SearchLabel>Search:</SearchLabel>\r\n            <Stack spacing={0} className=\"stack\" sx={{ width: \"100%\" }}>\r\n              <Autocomplete\r\n                id=\"search-products\"\r\n                freeSolo\r\n                // options={searchResults.map((option) => option.title)}\r\n                options={searchResults}\r\n                autoHighlight\r\n                getOptionLabel={(option) => option.title}\r\n                renderOption={(props, option) => (\r\n                  <Box\r\n                    component=\"li\"\r\n                    sx={{ \"& > img\": { mr: 2, flexShrink: 0 } }}\r\n                    {...props}\r\n                  >\r\n                    <Link\r\n                      to={`/product/${option._id}`}\r\n                      className=\"link\"\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <img\r\n                        loading=\"lazy\"\r\n                        height={\r\n                          window.innerWidth > 700\r\n                            ? window.innerWidth / 10 + \"px\"\r\n                            : window.innerWidth / 4 + \"px\"\r\n                        }\r\n                        src={option.img[0]}\r\n                        alt=\"\"\r\n                        style={{ flex: \"1\" }}\r\n                      />\r\n                      <div style={{ flex: \"1\", marginLeft: \"10px\" }}>\r\n                        {option.title}\r\n                        <br />\r\n                        {option.price} &#8363;\r\n                      </div>\r\n                    </Link>\r\n                  </Box>\r\n                )}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    ref={inputRef}\r\n                    onFocus={disableCenterRight}\r\n                    onBlur={displayCenterRight}\r\n                    {...params}\r\n                    label=\"search\"\r\n                  />\r\n                )}\r\n              />\r\n            </Stack>\r\n          </SearchContainer>\r\n        </Left>\r\n        <Center ref={centerRef}>\r\n          <Logo>\r\n            <Link to=\"/\" className=\"link\">\r\n              <b>Figures</b>\r\n            </Link>\r\n          </Logo>\r\n        </Center>\r\n        <Right ref={rightRef}>\r\n          {/* {window.innerWidth < 700 && ( */}\r\n            <Button\r\n              id=\"basic-button\"\r\n              aria-controls={open ? \"basic-menu\" : undefined}\r\n              aria-haspopup=\"true\"\r\n              aria-expanded={open ? \"true\" : undefined}\r\n              onClick={handleClick}              \r\n              // style={window.innerWidth > 700 ? {\r\n              //   // width: '170px', \r\n              //   display: 'flex', \r\n              //   justifyContent: 'flex-end',\r\n              //   border: 'none',\r\n              //   backgroundColor: 'inherit',\r\n              //   color: 'gray'\r\n              // } : {}}             \r\n            >\r\n              <MenuRoundedIcon/>\r\n            </Button>\r\n          {/* )} */}\r\n          <Menu\r\n            id=\"basic-menu\"\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n            onClose={handleClose}\r\n            MenuListProps={{\r\n              \"aria-labelledby\": \"basic-button\",\r\n            }}\r\n          >\r\n            {!user?._id ? (\r\n              <div>\r\n                <Link to=\"/login\" className=\"link\">\r\n                  <MenuItem onClick={handleClose}>\r\n                    <LoginRoundedIcon />\r\n                    LOG IN\r\n                  </MenuItem>\r\n                </Link>\r\n                <Link to=\"/register\" className=\"link\">\r\n                  <MenuItem onClick={handleClose}>\r\n                    <PersonAddAltRoundedIcon />\r\n                    REGISTER\r\n                  </MenuItem>\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {user?.loginByGoogle ? (\r\n                  <MenuItem onClick={handleClose}>\r\n                    <GoogleLogout\r\n                      clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\r\n                      buttonText=\"Logout\"\r\n                      onLogoutSuccess={handleLogout}\r\n                    ></GoogleLogout>\r\n                  </MenuItem>\r\n                ) : (\r\n                  <Link to=\"/logout\" onClick={handleLogout} className=\"link\">\r\n                    <MenuItem onClick={handleClose}>\r\n                      <LogoutRoundedIcon />\r\n                      LOG OUT\r\n                    </MenuItem>\r\n                  </Link>\r\n                )}\r\n                <Link to=\"/account\" className=\"link\">\r\n                  <MenuItem onClick={handleClose}>\r\n                    <PersonRoundedIcon />\r\n                    YOUR ACCOUNT\r\n                  </MenuItem>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </Menu>\r\n          <Link to=\"/cart\">\r\n            <MenuItem>\r\n              <Badge badgeContent={quantity} color=\"primary\">\r\n                <ShoppingCartRoundedIcon style={{ color: \"#008080\" }} />\r\n              </Badge>\r\n            </MenuItem>\r\n          </Link>\r\n        </Right>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst cartSlice = createSlice({\r\n    name:'cart',\r\n    initialState: {\r\n        products: [],\r\n        quantity: 0,\r\n        total: 0,\r\n        address: {}\r\n    },\r\n    reducers: {\r\n        addProduct: (state, action)=>{\r\n            const found = state.products.find(\r\n                element => element._id === action.payload._id\r\n            )\r\n            if(found){\r\n                found.quantity += action.payload.quantity\r\n            }\r\n            else{\r\n                state.products.push(action.payload)\r\n            }\r\n            state.quantity += action.payload.quantity;\r\n            state.total += action.payload.price * action.payload.quantity;\r\n        },\r\n\r\n        removeProduct: (state, action)=> {\r\n            const found = state.products.find(\r\n                element => element._id === action.payload._id\r\n            )\r\n            if(found){\r\n                found.quantity -= action.payload.quantity\r\n                if(found.quantity <= 0){\r\n                    state.products.splice(state.products.indexOf(found), 1);\r\n                }\r\n                state.quantity -= action.payload.quantity;\r\n                state.total -= action.payload.price * action.payload.quantity;            \r\n            }\r\n        },\r\n\r\n        removeCart: (state, action) => {\r\n            state.products = [];\r\n            state.quantity = 0;\r\n            state.total = 0;\r\n            state.address = {};\r\n        },\r\n\r\n        setAddressCart: (state, action) =>{\r\n            state.address = action.payload.address;\r\n        }\r\n    }\r\n})\r\n\r\nexport const {addProduct, removeCart, removeProduct, setAddressCart} = cartSlice.actions\r\nexport default cartSlice.reducer;"],"sourceRoot":""}